{"version":3,"sources":["apis/paper/PaperService.ts","apis/HttpService.ts","apis/paper/PaperServiceMock.ts","apis/user/UserServiceMock.ts","apis/collabration/CollabrationServiceMock.ts","apis/index.ts","apis/user/UserService.ts","apis/collabration/CollabrationService.ts","apis/Query.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/rc-steps/es/utils.js","../node_modules/rc-steps/es/Steps.js","../node_modules/rc-steps/es/Step.js","../node_modules/rc-steps/es/index.js","../node_modules/antd/es/steps/index.js","pages/PaperEditing/ReferenceAddingModal.tsx","pages/PaperEditing/Wizard.tsx","pages/PaperEditPage.tsx"],"names":["PaperService","_HttpService","Object","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","apply","arguments","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","_uploadPaper","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","C_Users_viccrubs_Projects_chainpaper_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","paperDraft","data","wrap","_context","prev","next","fetch","path","method","HttpMethod","POST","body","sent","abrupt","stop","_x","_modifyPaper","_callee2","paperId","_context2","concat","PUT","_x2","_x3","_getPapers","_callee3","_context3","GET","_getPaper","_callee4","_context4","_x4","_getPaperScore","_callee5","_context5","_x5","_getPaperComments","_callee6","_context6","_x6","_scorePaper","_callee7","score","_context7","_x7","_x8","_getPaperStar","_callee8","_context8","_x9","_starPaper","_callee9","operation","_context9","star","_x10","_x11","_commentPaper","_callee10","commentContent","_context10","comment","_x12","_x13","_getPaperRefGraph","_callee11","_context11","_x14","HttpService","axiosInstance","axios","create","baseURL","headers","Content-Type","_fetch","fetchInfo","response","url","params","t0","request","status","get","comments","userId","time","content","stars","papers","authors","paper","title","refs","type","doi","keywords","abstractContent","introduction","conclusion","acknowledgement","uploadTime","state","UserService","CollabrationService","__webpack_require__","d","__webpack_exports__","getApiService","services","serviceConfig","Map","serviceType","forEach","item","set","_this","call","getUserInfoInStorage","setToken","token","_login","username","password","_register","role","e1","_getUserInfo","defaults","common","Authorization","_requestCollabration","_acceptCollabrationRequest","collabrationRequestId","_inviteCollabration","inviteeId","_acceptCollabrationInvitation","collabrationInvitationId","_getCollabrationInvitationInfo","_getCollabrationRequestInfo","Query","loading","error","undefined","setState","props","then","catch","e","_this$state","children","React","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","isFlexSupported","window","document","documentElement","style","Steps_Steps","_Component","Steps","classCallCheck_default","possibleConstructorReturn_default","onStepClick","_this$props","onChange","current","calcStepOffsetWidth","domNode","react_dom","calcTimeout","clearTimeout","setTimeout","lastStepOffsetWidth","lastChild","offsetWidth","Math","abs","flexSupported","debounce_default","inherits_default","componentDidMount","componentDidUpdate","componentWillUnmount","cancel","render","_classNames","_this2","_props","prefixCls","_props$style","className","direction","labelPlacement","iconPrefix","size","progressDot","initial","icons","restProps","objectWithoutProperties_default","_state","filteredChildren","react_default","Children","toArray","filter","c","lastIndex","adjustedlabelPlacement","classString","classnames_default","createElement","extends_default","react","map","child","index","stepNumber","childProps","stepIndex","wrapperStyle","itemWidth","adjustMarginRight","round","propTypes","prop_types_default","string","any","oneOfType","bool","func","object","number","shape","finish","node","defaultProps","es_Steps","isString","str","Step_Step","_React$Component","Step","_temp","_ret","_len","args","_key","_initialiseProps","renderIconNode","description","icon","iconClassName","iconDot","_classNames2","_props2","_props2$status","tailContent","onClick","stepItemStyle","width","marginRight","accessibilityProps","tabIndex","Component","_props3","es_Step","es","_typeof","obj","constructor","_extends","assign","target","source","hasOwnProperty","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","p","steps_Steps","instance","Constructor","_classCallCheck","renderSteps","_ref","getPrefixCls","es_icon","protoProps","staticProps","subClass","superClass","_inherits","config_provider","prop_types","TabPane","tabs","ReferenceAddingModal","paperService","_useState","useState","_useState2","slicedToArray","setPaperId","_useState3","_useState4","setDoi","_useState5","_useState6","setType","modal","visible","show","onOk","asyncToGenerator","regenerator_default","onAdd","getPaper","join","message","close","onCancel","defaultActiveKey","activeKey","tab","input","placeholder","ButtonGroup","Sider","Content","es_button","Group","TextArea","Wizard","onSubmit","setTitle","setKeywords","setAbstractContent","_useState7","_useState8","setIntroduction","_useState9","_useState10","setContent","_useState11","_useState12","setConclusion","_useState13","_useState14","setAcknowledgement","_useState15","_useState16","setRefs","_useState17","_useState18","isModelShow","setIsModelShow","_useState19","_useState20","step","setStep","PaperEditing_ReferenceAddingModal","newRef","FunctionLayout","padding","Wizard_Step","textAlign","margin","marginTop","fontFamily","fontSize","autosize","marginLeft","row","col","span","fontWeight","display","lineHeight","newRefs","slice","borderRadius","backgroundColor","minHeight","border","ref","latex_default","paddingBottom","PaperEditPage","react__WEBPACK_IMPORTED_MODULE_2___default","_apis_Query__WEBPACK_IMPORTED_MODULE_8__","_components_PageLoading__WEBPACK_IMPORTED_MODULE_7__","_PaperEditing_Wizard__WEBPACK_IMPORTED_MODULE_4__","draft","modifyPaper","antd_es_message__WEBPACK_IMPORTED_MODULE_1__","success","navigate"],"mappings":"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","file":"static/js/11.91981ffc.chunk.js","sourcesContent":["import { HttpService, HttpMethod } from \"../HttpService\";\r\nimport { PaperDraft, PaperInfo, PaperComment, PaperRef } from \"../../models/paper\";\r\n\r\nexport interface PaperIdResponse {\r\n  paperId: string;\r\n}\r\n\r\nexport interface PaperListResponse {\r\n  paperItems: PaperItem[];\r\n}\r\n\r\nexport interface PaperItem {\r\n  paperId: string;\r\n  name: string;\r\n}\r\n\r\nexport class PaperService extends HttpService {\r\n  async uploadPaper(paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    const data = await this.fetch({\r\n      path: \"/papers\",\r\n      method: HttpMethod.POST,\r\n      body: { paperDraft },\r\n    });\r\n\r\n    return data as PaperIdResponse;\r\n  }\r\n\r\n  async modifyPaper(paperId: string, paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}`,\r\n      method: HttpMethod.PUT,\r\n      body: { paperDraft },\r\n    });\r\n\r\n    return data as PaperIdResponse;\r\n\r\n  }\r\n\r\n  async getPapers(): Promise<{ papers: PaperInfo[] }> {\r\n    const data = await this.fetch({\r\n      path: `/papers`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as { papers: PaperInfo[] };\r\n\r\n  }\r\n\r\n  async getPaper(paperId: string): Promise<{ paper: PaperInfo }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as { paper: PaperInfo };\r\n  }\r\n\r\n  async getPaperScore(paperId: string): Promise<{ score: number; myScore: number }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}/score`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async getPaperComments(paperId: string): Promise<{ comments: PaperComment[] }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}/comment`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n\r\n  async scorePaper(paperId: string, score: number) {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/score`,\r\n      body: { score },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getPaperStar(paperId: string): Promise<{ stars: number; stared: boolean }> {\r\n    const data = this.fetch({\r\n      path: `/papers/${paperId}/star`,\r\n      method: HttpMethod.GET\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async starPaper(paperId: string, operation: \"star\" | \"unstar\") {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/star`,\r\n      body: { star: operation == \"star\" },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async commentPaper(paperId: string, commentContent: string) {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/comment`,\r\n      body: { comment: commentContent },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getPaperRefGraph(paperId: string): Promise<{ refs: PaperRef }> {\r\n    const data = this.fetch<any>({\r\n      path: `/papers/${paperId}/refs`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import axios, { AxiosInstance } from \"axios\";\r\n\r\nexport interface FetchInfo {\r\n  path?: string;\r\n  method?: HttpMethod;\r\n  params?: any;\r\n  body?: any;\r\n  headers?: { [s: string]: string };\r\n}\r\n\r\nexport enum HttpMethod {\r\n  GET = \"GET\",\r\n  POST = \"POST\",\r\n  DELETE = \"DELETE\",\r\n  PATCH = \"PATCH\",\r\n  PUT = \"PUT\",\r\n}\r\n\r\nexport interface HttpError {\r\n  status: number;\r\n  data?: any;\r\n}\r\n\r\n\r\nconst BASE_URL = \"http://36.103.228.127:5000\";\r\n\r\nconst axiosInstance = axios.create({ baseURL: BASE_URL, headers: { 'Content-Type': \"application/json \"} });\r\n\r\nexport class HttpService {\r\n\r\n  protected get axios() {\r\n    return axiosInstance;\r\n  }\r\n\r\n  /**\r\n   * Execute fetch.\r\n   * @param fetchInfo fetch paramters\r\n   * @returns parsed response body if the request is successful\r\n   * @throws A HttpError object if the request is not successful.\r\n   */\r\n  async fetch<T>(fetchInfo: FetchInfo): Promise<T> {\r\n    try {\r\n      const response = await axiosInstance({\r\n        method: fetchInfo.method,\r\n        url: fetchInfo.path,\r\n        params: fetchInfo.params,\r\n        data: fetchInfo.body,\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      if (e.response) {\r\n        // request is complete but the status code is out of 200-300\r\n        // throw it as HttpError\r\n        throw e as HttpError;\r\n      } else if (e.request) {\r\n        // request is sent but no response\r\n        // likely network error\r\n        // throw -1\r\n        throw {\r\n          status: -1,\r\n          data: null,\r\n        };\r\n      } else {\r\n        // some config problem\r\n        // throw -2\r\n        throw {\r\n          status: -2,\r\n          data: null,\r\n        };\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport interface HttpServiceType {\r\n  new(...args): HttpService;\r\n}\r\n","import { PaperService, PaperIdResponse, PaperListResponse } from \"./PaperService\";\r\nimport { PaperDraft, PaperInfo, PaperComment, PaperRef } from \"../../models/paper\";\r\nimport { HttpMethod } from \"../HttpService\";\r\nimport { sleepMs } from \"../../utils\";\r\n\r\nconst comments = [\r\n  { userId: \"2\", time: \"1232132132131\", content: \"好！\", stars: 10 },\r\n  { userId: \"3\", time: \"1232142141\", content: \"好！！！\", stars: 4 },\r\n];\r\n\r\nexport const papers: PaperInfo[] = [\r\n  {\r\n    paperId: \"1\", authors: [\"123\", \"1\"], paper: {\r\n      title: \"Bug Localization with Semantic and Structural Features using Convolutional Neural Network and Cascade Forest\",\r\n      refs: [{ type: \"published\", doi: \"10.1145/3210459.3210469\", content: \"123\" }, {\r\n        type: \"chainpaper\",\r\n        paperId: \"2\",\r\n        title: \"123\",\r\n        content: \"Poor H V. An introduction to signal detection and estimation[M]. Springer Science & Business Media, 2013.\"\r\n      }],\r\n      keywords: \"case study\",\r\n      abstractContent: \"Background: Correctly localizing buggy ﬁles for bug reports together with their semantic and structural information is a crucial task, which would essentially improve the accuracy of bug localization techniques. Aims: To empirically evaluate and demonstrate the eﬀects of both semantic and structural information in bug reports and source ﬁles on improving the performance of bug localization, we propose CNN Forest involving convolutional neural network and ensemble of random forests that have excellent performance in the tasks of semantic parsing and structural information extraction. Method: We ﬁrst employ convolutional neural network with multiple ﬁlters and an ensemble of random forests with multi-grained scanning to extract semantic and structural features from the word vectors derived from bug reports and source ﬁles. And a subsequent cascade forest (a cascade of ensembles of random forests) is used to further extract deeper features and observe the correlated relationships between bug reports and source ﬁles. CNN Forest is then empirically evaluated over 10,754 bug reports extracted from AspectJ, Eclipse UI, JDT, SWT, and Tomcat projects. Results: The experiments empirically demonstrate the signiﬁcance of including semantic and structural information in bug localization, and further show that the proposed CNN Forest achieves higher Mean Average Precision and Mean Reciprocal Rank measures than the best results of the four current state-of-the-art approaches (NPCNN, LR+WE, DNNLOC, and BugLocator). Conclusion: CNN Forest is capable of deﬁning the correlated relationships between bug reports and source ﬁles, and we empirically show that semantic and structural information in bug reports and source ﬁles are crucial in improving bug localization.\",\r\n      introduction: \"123\",\r\n      content: \"string\",\r\n      conclusion: \"1321\",\r\n      acknowledgement: \"1232132121\",\r\n    },\r\n    uploadTime: \"1231232131\", score: 10, stars: 10, comments,\r\n    state: \"open\",\r\n  }\r\n];\r\n\r\nexport class PaperServiceMock extends PaperService {\r\n  async uploadPaper(paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    return { paperId: \"123\" };\r\n  }\r\n\r\n  async modifyPaper(paperId: string, paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    return { paperId: \"123\" };\r\n  }\r\n\r\n  async getPapers(): Promise<{ papers: PaperInfo[] }> {\r\n    return { papers };\r\n  }\r\n\r\n  async getPaper(paperId: string): Promise<{ paper: PaperInfo }> {\r\n    return { paper: papers[0] };\r\n  }\r\n\r\n  async scorePaper(paperId: string, score: number) {\r\n\r\n  }\r\n\r\n\r\n  async getPaperStar(paperId: string): Promise<{ stars: number; stared: boolean }> {\r\n    return { stars: 9, stared: Math.random() < 0.5 };\r\n  }\r\n\r\n  async getPaperScore(paperId: string): Promise<{ score: number; myScore: number }> {\r\n    return { score: 8, myScore: Math.random() < 0.5 ? 4 : -1 };\r\n  }\r\n\r\n  async getPaperComments(paperId: string): Promise<{ comments: PaperComment[] }> {\r\n    await sleepMs(1000);\r\n    return { comments };\r\n  }\r\n\r\n\r\n  async starPaper(paperId: string, operation: \"star\" | \"unstar\") {\r\n\r\n  }\r\n\r\n  async commentPaper(paperId: string, commentContent: string) {\r\n\r\n  }\r\n\r\n  async getPaperRefGraph(paperId: string): Promise<{ refs: PaperRef }> {\r\n    return {\r\n      refs:\r\n        {\r\n          type: \"published\",\r\n          doi: \"10.1145/3210459.3210469\",\r\n          content: \"123\",\r\n          refs: [        {\r\n            type: \"chainpaper\",\r\n            title: \"Environment paper\",\r\n            content: \"content 1\",\r\n            paperId: \"123\",\r\n            refs: [\r\n              {\r\n                type: \"chainpaper\",\r\n                title: \"Environment paper\",\r\n                content: \"content 1\",\r\n                paperId: \"456\",\r\n                refs: [\r\n                  {\r\n                    type: \"chainpaper\",\r\n                    title: \"Environment paper\",\r\n                    content: \"content 1\",\r\n                    paperId: \"4929\",\r\n                    refs: []\r\n                  }]\r\n              }\r\n            ]\r\n          },],\r\n        },\r\n\r\n\r\n    };\r\n  }\r\n}\r\n","\r\nimport { Response, UserService } from \"./UserService\";\r\nimport { Role, UserInfo } from \"../../models/user\";\r\nimport { papers } from \"../paper/PaperServiceMock\";\r\n\r\nexport default class UserServiceMock extends UserService {\r\n  async login(username: string, password: string): Promise<Response> {\r\n    if (username === password) {\r\n      return { userId: username, token: \"0001\" };\r\n    } else {\r\n      return { error: \"incorrect\" };\r\n    }\r\n  }\r\n\r\n  async register(username: string, password: string, role: Role): Promise<Response> {\r\n    if (username !== \"1\") {\r\n      return { userId: username, token: \"0001\" };\r\n    } else {\r\n      return { error: \"incorrect\" };\r\n    }\r\n  }\r\n\r\n  async getUserInfo(userId: string): Promise<UserInfo> {\r\n    return {\r\n      userId,\r\n      username: `${userId}'s name`,\r\n      role: \"student\",\r\n      paperIds: papers.map(x => x.paperId),\r\n      paperIdsInCollabration: papers.map(x => x.paperId),\r\n      score: 4.6,\r\n      collabrationInvitationIds: [\r\n        \"123\", \"1234\"\r\n      ],\r\n      collabrationRequestIds: [\"123\", \"1234\"],\r\n    };\r\n  }\r\n}\r\n","import { HttpService, HttpMethod } from \"../HttpService\";\r\nimport { CollabrationInvitation, CollabrationRequest } from \"../../models/collabration\";\r\nimport { CollabrationService } from \"./CollabrationService\";\r\n\r\nexport class CollabrationServiceMock extends CollabrationService {\r\n  async requestCollabration(paperId: string): Promise<{ collabrationRequestId: string }> {\r\n    return { collabrationRequestId: \"123\" };\r\n  }\r\n\r\n  async acceptCollabrationRequest(collabrationRequestId: string) {\r\n\r\n  }\r\n\r\n  async inviteCollabration(paperId: string, inviteeId: string): Promise<{ collabrationInvitationId: string }> {\r\n    return { collabrationInvitationId: \"123\" };\r\n  }\r\n\r\n  async acceptCollabrationInvitation(collabrationInvitationId: string) {\r\n\r\n  }\r\n\r\n  async getCollabrationInvitationInfo(collabrationInvitationId: string): Promise<CollabrationInvitation> {\r\n    return { collabrationInvitationId, time: \"1231231212\", inviteeId: \"123\", inviterId: \"123\", paperId: \"123\" };\r\n  }\r\n\r\n  async getCollabrationRequestInfo(collabrationRequestId: string): Promise<CollabrationRequest> {\r\n    return { collabrationRequestId, time: \"1231231212\", requesteeId: \"123\", requesterId: \"123\", paperId: \"123\" };\r\n\r\n  };\r\n}\r\n","import { HttpService, HttpServiceType } from \"./HttpService\";\r\nimport { UserService } from \"./user/UserService\";\r\nimport UserServiceMock from \"./user/UserServiceMock\";\r\nimport { PaperServiceMock } from \"./paper/PaperServiceMock\";\r\nimport { PaperService } from \"./paper/PaperService\";\r\nimport { CollabrationService } from \"./collabration/CollabrationService\";\r\nimport { CollabrationServiceMock } from \"./collabration/CollabrationServiceMock\";\r\n\r\nexport const USE_MOCK = false;\r\n\r\nconst services = [\r\n  [UserService, USE_MOCK ? UserServiceMock : UserService],\r\n  [PaperService, USE_MOCK ? PaperServiceMock : PaperService],\r\n  [CollabrationService, USE_MOCK ? CollabrationServiceMock : CollabrationService],\r\n];\r\n\r\n\r\nconst serviceConfig = new Map<HttpServiceType, HttpService>();\r\n\r\nservices.forEach((item) => {\r\n  serviceConfig.set(item[0], new item[1]());\r\n});\r\n\r\nexport function getApiService<T extends HttpServiceType>(serviceType: T) {\r\n  return serviceConfig.get(serviceType)! as InstanceType<T>;\r\n}\r\n\r\n","import { HttpError, HttpMethod, HttpService } from \"../HttpService\";\r\nimport { Role, UserInfo } from \"../../models/user\";\r\nimport { getUserInfoInStorage } from \"../../stores/UserStore\";\r\n\r\nexport interface Response {\r\n  userId?: string;\r\n  token?: string;\r\n  error?: \"incorrect\" | \"frozen\";\r\n}\r\n\r\nexport class UserService extends HttpService {\r\n\r\n  constructor() {\r\n    super();\r\n    // data\r\n    const data = getUserInfoInStorage();\r\n    if (data) {\r\n      this.setToken(data.token);\r\n    }\r\n  }\r\n\r\n  async login(username: string, password: string): Promise<Response> {\r\n    try {\r\n      const data = await this.fetch<Response>({\r\n        method: HttpMethod.GET,\r\n        params: { username, password },\r\n        path: \"/login\",\r\n      });\r\n      if (data.token) {\r\n        this.setToken(data.token);\r\n      }\r\n      return data;\r\n    } catch (e) {\r\n      return (e as HttpError).data;\r\n    }\r\n\r\n  }\r\n\r\n  async register(username: string, password: string, role: Role): Promise<Response> {\r\n    try {\r\n      const data = await this.fetch({\r\n        method: HttpMethod.POST,\r\n        body: { username, password, role },\r\n        path: \"/register\",\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      const e1 = e as HttpError;\r\n      return e1.data;\r\n    }\r\n\r\n  }\r\n\r\n  async getUserInfo(userId: string): Promise<UserInfo> {\r\n    try {\r\n      const data = await this.fetch<UserInfo>({\r\n        method: HttpMethod.GET,\r\n        path: `/user/${userId}`,\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      const e1 = e as HttpError;\r\n      return e1.data;\r\n    }\r\n\r\n  }\r\n\r\n  setToken(token: string) {\r\n    if (token) {\r\n      this.axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    } else {\r\n      delete this.axios.defaults.headers.common.Authorization;\r\n    }\r\n  }\r\n}\r\n","import {HttpMethod, HttpService} from \"../HttpService\";\r\nimport {CollabrationInvitation, CollabrationRequest} from \"../../models/collabration\";\r\n\r\nexport class CollabrationService extends HttpService {\r\n  async requestCollabration(paperId: string): Promise<{ collabrationRequestId: string }> {\r\n    const data = await this.fetch({\r\n      path: `/collabration/request`,\r\n      body: { paperId },\r\n      method: HttpMethod.POST,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async acceptCollabrationRequest(collabrationRequestId: string) {\r\n    await this.fetch({\r\n      path: `collabration/request/${collabrationRequestId}`,\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async inviteCollabration(paperId: string, inviteeId: string): Promise<{ collabrationInvitationId: string }> {\r\n    const data = await this.fetch({\r\n      path: `/collabration/invitation`,\r\n      body: { paperId, inviteeId },\r\n      method: HttpMethod.POST,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async acceptCollabrationInvitation(collabrationInvitationId: string) {\r\n    await this.fetch({\r\n      path: `/collabration/invitation/${collabrationInvitationId}`,\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getCollabrationInvitationInfo(collabrationInvitationId: string): Promise<CollabrationInvitation> {\r\n    const data = await this.fetch<CollabrationInvitation>({\r\n      path: `/collabration/invitation/${collabrationInvitationId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  }\r\n\r\n  async getCollabrationRequestInfo(collabrationRequestId: string): Promise<CollabrationRequest> {\r\n    const data = this.fetch<CollabrationRequest>({\r\n      path: `/collabration/request/${collabrationRequestId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  };\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface Props<T> {\r\n  children: (data: T,\r\n             loading: boolean,\r\n             error: any,\r\n             refetch: () => void,\r\n  ) => React.ReactNode;\r\n  call: () => Promise<T>;\r\n}\r\n\r\ninterface State<T> {\r\n  loading: boolean;\r\n  error: any;\r\n  data?: T;\r\n}\r\n\r\nexport default class Query<T> extends React.PureComponent<Props<T>, State<T>> {\r\n\r\n  state = {\r\n    loading: true,\r\n    error: null,\r\n    data: undefined,\r\n  };\r\n\r\n  fetch = () => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    this.props.call().then((data) => {\r\n      this.setState({\r\n        loading: false,\r\n        error: null,\r\n        data,\r\n      });\r\n    }).catch((e) => {\r\n      this.setState({\r\n        loading: false,\r\n        error: e,\r\n        data: undefined,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n  }\r\n\r\n  render() {\r\n    const { data, loading, error } = this.state;\r\n    return this.props.children(data!!, loading, error, this.fetch);\r\n  }\r\n}\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export function isFlexSupported() {\n  if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    var documentElement = window.document.documentElement;\n    return 'flex' in documentElement.style || 'webkitFlex' in documentElement.style || 'Flex' in documentElement.style || 'msFlex' in documentElement.style;\n  }\n\n  return false;\n}","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint react/no-did-mount-set-state: 0 */\n\nimport React, { cloneElement, Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport { isFlexSupported } from './utils';\n\nvar Steps = function (_Component) {\n  _inherits(Steps, _Component);\n\n  function Steps(props) {\n    _classCallCheck(this, Steps);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.onStepClick = function (next) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          current = _this$props.current;\n\n      if (onChange && current !== next) {\n        onChange(next);\n      }\n    };\n\n    _this.calcStepOffsetWidth = function () {\n      if (isFlexSupported()) {\n        return;\n      } // Just for IE9\n\n\n      var domNode = findDOMNode(_this);\n\n      if (domNode.children.length > 0) {\n        if (_this.calcTimeout) {\n          clearTimeout(_this.calcTimeout);\n        }\n\n        _this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var lastStepOffsetWidth = (domNode.lastChild.offsetWidth || 0) + 1; // Reduce shake bug\n\n          if (_this.state.lastStepOffsetWidth === lastStepOffsetWidth || Math.abs(_this.state.lastStepOffsetWidth - lastStepOffsetWidth) <= 3) {\n            return;\n          }\n\n          _this.setState({\n            lastStepOffsetWidth: lastStepOffsetWidth\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n    _this.calcStepOffsetWidth = debounce(_this.calcStepOffsetWidth, 150);\n    return _this;\n  }\n\n  Steps.prototype.componentDidMount = function componentDidMount() {\n    this.calcStepOffsetWidth();\n\n    if (!isFlexSupported()) {\n      this.setState({\n        flexSupported: false\n      });\n    }\n  };\n\n  Steps.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.calcStepOffsetWidth();\n  };\n\n  Steps.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  };\n\n  Steps.prototype.render = function render() {\n    var _classNames,\n        _this2 = this;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        _props$style = _props.style,\n        style = _props$style === undefined ? {} : _props$style,\n        className = _props.className,\n        children = _props.children,\n        direction = _props.direction,\n        labelPlacement = _props.labelPlacement,\n        iconPrefix = _props.iconPrefix,\n        status = _props.status,\n        size = _props.size,\n        current = _props.current,\n        progressDot = _props.progressDot,\n        initial = _props.initial,\n        icons = _props.icons,\n        onChange = _props.onChange,\n        restProps = _objectWithoutProperties(_props, ['prefixCls', 'style', 'className', 'children', 'direction', 'labelPlacement', 'iconPrefix', 'status', 'size', 'current', 'progressDot', 'initial', 'icons', 'onChange']);\n\n    var _state = this.state,\n        lastStepOffsetWidth = _state.lastStepOffsetWidth,\n        flexSupported = _state.flexSupported;\n    var filteredChildren = React.Children.toArray(children).filter(function (c) {\n      return !!c;\n    });\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = !!progressDot ? 'vertical' : labelPlacement;\n    var classString = classNames(prefixCls, prefixCls + '-' + direction, className, (_classNames = {}, _classNames[prefixCls + '-' + size] = size, _classNames[prefixCls + '-label-' + adjustedlabelPlacement] = direction === 'horizontal', _classNames[prefixCls + '-dot'] = !!progressDot, _classNames[prefixCls + '-flex-not-supported'] = !flexSupported, _classNames));\n    return React.createElement('div', _extends({\n      className: classString,\n      style: style\n    }, restProps), Children.map(filteredChildren, function (child, index) {\n      if (!child) {\n        return null;\n      }\n\n      var stepNumber = initial + index;\n\n      var childProps = _extends({\n        stepNumber: '' + (stepNumber + 1),\n        stepIndex: stepNumber,\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix,\n        wrapperStyle: style,\n        progressDot: progressDot,\n        icons: icons,\n        onStepClick: onChange && _this2.onStepClick\n      }, child.props);\n\n      if (!flexSupported && direction !== 'vertical' && index !== lastIndex) {\n        childProps.itemWidth = 100 / lastIndex + '%';\n        childProps.adjustMarginRight = -Math.round(lastStepOffsetWidth / lastIndex + 1);\n      } // fix tail color\n\n\n      if (status === 'error' && index === current - 1) {\n        childProps.className = prefixCls + '-next-error';\n      }\n\n      if (!child.props.status) {\n        if (stepNumber === current) {\n          childProps.status = status;\n        } else if (stepNumber < current) {\n          childProps.status = 'finish';\n        } else {\n          childProps.status = 'wait';\n        }\n      }\n\n      return cloneElement(child, childProps);\n    }));\n  };\n\n  return Steps;\n}(Component);\n\nSteps.propTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  direction: PropTypes.string,\n  labelPlacement: PropTypes.string,\n  children: PropTypes.any,\n  status: PropTypes.string,\n  size: PropTypes.string,\n  progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  style: PropTypes.object,\n  initial: PropTypes.number,\n  current: PropTypes.number,\n  icons: PropTypes.shape({\n    finish: PropTypes.node,\n    error: PropTypes.node\n  }),\n  onChange: PropTypes.func\n};\nSteps.defaultProps = {\n  prefixCls: 'rc-steps',\n  iconPrefix: 'rc',\n  direction: 'horizontal',\n  labelPlacement: 'horizontal',\n  initial: 0,\n  current: 0,\n  status: 'process',\n  size: '',\n  progressDot: false\n};\nexport default Steps;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nfunction isString(str) {\n  return typeof str === 'string';\n}\n\nvar Step = function (_React$Component) {\n  _inherits(Step, _React$Component);\n\n  function Step() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Step);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Step.prototype.renderIconNode = function renderIconNode() {\n    var _classNames;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        progressDot = _props.progressDot,\n        stepNumber = _props.stepNumber,\n        status = _props.status,\n        title = _props.title,\n        description = _props.description,\n        icon = _props.icon,\n        iconPrefix = _props.iconPrefix,\n        icons = _props.icons;\n    var iconNode = void 0;\n    var iconClassName = classNames(prefixCls + '-icon', iconPrefix + 'icon', (_classNames = {}, _classNames[iconPrefix + 'icon-' + icon] = icon && isString(icon), _classNames[iconPrefix + 'icon-check'] = !icon && status === 'finish' && icons && !icons.finish, _classNames[iconPrefix + 'icon-close'] = !icon && status === 'error' && icons && !icons.error, _classNames));\n    var iconDot = React.createElement('span', {\n      className: prefixCls + '-icon-dot'\n    }); // `progressDot` enjoy the highest priority\n\n    if (progressDot) {\n      if (typeof progressDot === 'function') {\n        iconNode = React.createElement('span', {\n          className: prefixCls + '-icon'\n        }, progressDot(iconDot, {\n          index: stepNumber - 1,\n          status: status,\n          title: title,\n          description: description\n        }));\n      } else {\n        iconNode = React.createElement('span', {\n          className: prefixCls + '-icon'\n        }, iconDot);\n      }\n    } else if (icon && !isString(icon)) {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icon);\n    } else if (icons && icons.finish && status === 'finish') {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icons.finish);\n    } else if (icons && icons.error && status === 'error') {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icons.error);\n    } else if (icon || status === 'finish' || status === 'error') {\n      iconNode = React.createElement('span', {\n        className: iconClassName\n      });\n    } else {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, stepNumber);\n    }\n\n    return iconNode;\n  };\n\n  Step.prototype.render = function render() {\n    var _classNames2;\n\n    var _props2 = this.props,\n        className = _props2.className,\n        prefixCls = _props2.prefixCls,\n        style = _props2.style,\n        itemWidth = _props2.itemWidth,\n        _props2$status = _props2.status,\n        status = _props2$status === undefined ? 'wait' : _props2$status,\n        iconPrefix = _props2.iconPrefix,\n        icon = _props2.icon,\n        wrapperStyle = _props2.wrapperStyle,\n        adjustMarginRight = _props2.adjustMarginRight,\n        stepNumber = _props2.stepNumber,\n        description = _props2.description,\n        title = _props2.title,\n        progressDot = _props2.progressDot,\n        tailContent = _props2.tailContent,\n        icons = _props2.icons,\n        stepIndex = _props2.stepIndex,\n        onStepClick = _props2.onStepClick,\n        onClick = _props2.onClick,\n        restProps = _objectWithoutProperties(_props2, ['className', 'prefixCls', 'style', 'itemWidth', 'status', 'iconPrefix', 'icon', 'wrapperStyle', 'adjustMarginRight', 'stepNumber', 'description', 'title', 'progressDot', 'tailContent', 'icons', 'stepIndex', 'onStepClick', 'onClick']);\n\n    var classString = classNames(prefixCls + '-item', prefixCls + '-item-' + status, className, (_classNames2 = {}, _classNames2[prefixCls + '-item-custom'] = icon, _classNames2));\n\n    var stepItemStyle = _extends({}, style);\n\n    if (itemWidth) {\n      stepItemStyle.width = itemWidth;\n    }\n\n    if (adjustMarginRight) {\n      stepItemStyle.marginRight = adjustMarginRight;\n    }\n\n    var accessibilityProps = {};\n\n    if (onStepClick) {\n      accessibilityProps.role = 'button';\n      accessibilityProps.tabIndex = 0;\n      accessibilityProps.onClick = this.onClick;\n    }\n\n    return React.createElement('div', _extends({\n      onClick: onClick\n    }, accessibilityProps, restProps, {\n      className: classString,\n      style: stepItemStyle\n    }), React.createElement('div', {\n      className: prefixCls + '-item-tail'\n    }, tailContent), React.createElement('div', {\n      className: prefixCls + '-item-icon'\n    }, this.renderIconNode()), React.createElement('div', {\n      className: prefixCls + '-item-content'\n    }, React.createElement('div', {\n      className: prefixCls + '-item-title'\n    }, title), description && React.createElement('div', {\n      className: prefixCls + '-item-description'\n    }, description)));\n  };\n\n  return Step;\n}(React.Component);\n\nStep.propTypes = {\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  style: PropTypes.object,\n  wrapperStyle: PropTypes.object,\n  itemWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  status: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  icon: PropTypes.node,\n  adjustMarginRight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  stepNumber: PropTypes.string,\n  stepIndex: PropTypes.number,\n  description: PropTypes.any,\n  title: PropTypes.any,\n  progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  tailContent: PropTypes.any,\n  icons: PropTypes.shape({\n    finish: PropTypes.node,\n    error: PropTypes.node\n  }),\n  onClick: PropTypes.func,\n  onStepClick: PropTypes.func\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onClick = function () {\n    var _props3 = _this2.props,\n        onClick = _props3.onClick,\n        onStepClick = _props3.onStepClick,\n        stepIndex = _props3.stepIndex;\n\n    if (onClick) {\n      onClick.apply(undefined, arguments);\n    }\n\n    onStepClick(stepIndex);\n  };\n};\n\nexport default Step;","import Steps from './Steps';\nimport Step from './Step';\nSteps.Step = Step;\nexport { Step };\nexport default Steps;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcSteps from 'rc-steps';\nimport Icon from '../icon';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Steps =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Steps, _React$Component);\n\n  function Steps() {\n    var _this;\n\n    _classCallCheck(this, Steps);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Steps).apply(this, arguments));\n\n    _this.renderSteps = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n      var prefixCls = getPrefixCls('steps', _this.props.prefixCls);\n      var iconPrefix = getPrefixCls('', _this.props.iconPrefix);\n      var icons = {\n        finish: React.createElement(Icon, {\n          type: \"check\",\n          className: \"\".concat(prefixCls, \"-finish-icon\")\n        }),\n        error: React.createElement(Icon, {\n          type: \"close\",\n          className: \"\".concat(prefixCls, \"-error-icon\")\n        })\n      };\n      return React.createElement(RcSteps, _extends({\n        icons: icons\n      }, _this.props, {\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(Steps, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderSteps);\n    }\n  }]);\n\n  return Steps;\n}(React.Component);\n\nexport { Steps as default };\nSteps.Step = RcSteps.Step;\nSteps.defaultProps = {\n  current: 0\n};\nSteps.propTypes = {\n  prefixCls: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  current: PropTypes.number\n};","import React, { useState } from \"react\";\r\nimport { Modal, Input, message, Tabs } from \"antd\";\r\nimport { Reference } from \"../../models/paper\";\r\nimport { getApiService } from \"../../apis\";\r\nimport { PaperService } from \"../../apis/paper/PaperService\";\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\ninterface Props {\r\n  show: boolean;\r\n  onAdd(ref: Reference): void;\r\n  close(): void;\r\n}\r\n\r\nconst ReferenceAddingModal: React.FC<Props> = (props) => {\r\n  const paperService = getApiService(PaperService);\r\n\r\n  const [paperId, setPaperId] = useState(\"\");\r\n  const [doi, setDoi] = useState(\"\");\r\n  const [type, setType] = useState(\"published\");\r\n\r\n  return (\r\n    <Modal\r\n      title=\"添加文献\"\r\n      visible={props.show}\r\n      onOk={async () => {\r\n        if (type === \"published\") {\r\n          props.onAdd({ type: \"published\", doi });\r\n        } else if (type === \"chainpaper\") {\r\n          try {\r\n            const data = await paperService.getPaper(paperId);\r\n            props.onAdd({\r\n              type: \"chainpaper\",\r\n              paperId: paperId,\r\n              title: data.paper.paper.title,\r\n              content: data.paper.authors.join(\",\") + \":\" + data.paper.paper.title + \",\" + data.paper.uploadTime\r\n            });\r\n          } catch (e) {\r\n            message.error(\"无该论文\");\r\n          }\r\n        }\r\n        props.close();\r\n      }}\r\n      onCancel={() => {\r\n        props.close();\r\n      }}>\r\n      <Tabs defaultActiveKey=\"published\" onChange={(activeKey) => {\r\n        setType(activeKey);\r\n      }}>\r\n        <TabPane tab=\"已发表论文\" key=\"published\">\r\n          <Input placeholder=\"输入doi\" value={doi} onChange={(e) => {\r\n            setDoi(e.target.value)\r\n          }} />\r\n        </TabPane>\r\n        <TabPane tab=\"本平台论文\" key=\"chainpaper\">\r\n          <Input placeholder=\"输入论文号\" value={paperId} onChange={(e) => {\r\n            setPaperId(e.target.value)\r\n          }} />\r\n        </TabPane>\r\n      </Tabs>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ReferenceAddingModal;\r\n","import React, { useState } from \"react\";\r\nimport { RouteComponentProps, navigate } from \"@reach/router\";\r\nimport { Button, Input, Row, Col, Layout, Icon, Modal, Tabs, message, Steps } from \"antd\";\r\n\r\n\r\nimport Latex from 'react-latex';\r\nimport { getApiService } from \"../../apis\";\r\nimport { PaperService } from \"../../apis/paper/PaperService\";\r\nimport { Reference, PaperDraft } from \"../../models/paper\";\r\nimport FunctionLayout from \"../../layouts/FunctionLayout\";\r\nimport ReferenceAddingModal from \"./ReferenceAddingModal\";\r\n\r\nconst Step = Steps.Step;\r\nconst { Sider, Content } = Layout;\r\nconst ButtonGroup = Button.Group;\r\nconst { TextArea } = Input;\r\nconst TabPane = Tabs.TabPane;\r\n\r\ninterface Props {\r\n  paperDraft: PaperDraft | null;\r\n  onSubmit(paperDraft: PaperDraft): void;\r\n}\r\n\r\nconst Wizard: React.FunctionComponent<Props> = ({ paperDraft, onSubmit }) => {\r\n  const paperService = getApiService(PaperService);\r\n\r\n  const [title, setTitle] = useState(paperDraft ? paperDraft.title : \"\");\r\n  const [keywords, setKeywords] = useState(paperDraft ? paperDraft.keywords : \"\");\r\n  const [abstractContent, setAbstractContent] = useState(paperDraft ? paperDraft.abstractContent : \"\");\r\n  const [introduction, setIntroduction] = useState(paperDraft ? paperDraft.introduction : \"\");\r\n  const [content, setContent] = useState(paperDraft ? paperDraft.content : \"\");\r\n  const [conclusion, setConclusion] = useState(paperDraft ? paperDraft.conclusion : \"\");\r\n  const [acknowledgement, setAcknowledgement] = useState(paperDraft ? paperDraft.acknowledgement : \"\");\r\n  const [refs, setRefs] = useState(paperDraft ? paperDraft.refs : []);\r\n\r\n  const [isModelShow, setIsModelShow] = useState(false);\r\n  const [step, setStep] = useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <ReferenceAddingModal\r\n        show={isModelShow}\r\n        close={() => setIsModelShow(false)}\r\n        onAdd={(newRef) => setRefs([...refs, newRef])}\r\n      />\r\n      <FunctionLayout>\r\n        <Steps current={step} style={{ padding: '30px' }}>\r\n          <Step title=\"填写\" />\r\n          <Step title=\"预览\" />\r\n          <Step title=\"提交\" />\r\n        </Steps>\r\n        {step == 0 ? (\r\n          <div>\r\n            <div style={{ textAlign: 'center', margin: '20px', marginTop: '20px' }}>\r\n              <TextArea style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center', width: '60%' }}\r\n                placeholder=\"标题\"\r\n                value={title}\r\n                onChange={(e) => {\r\n                  setTitle(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n                <Row>\r\n                  <Col span={3}>\r\n                    <p style={{\r\n                      fontFamily: 'SimHei',\r\n                      fontSize: '18px',\r\n                      fontWeight: 'bold',\r\n                      display: 'inline-block'\r\n                    }}>摘 要</p>\r\n                  </Col>\r\n                  <Col span={21}>\r\n                    <TextArea\r\n                      style={{ fontFamily: 'SimSun', fontSize: '14px', lineHeight: '20px', display: 'inline-block' }}\r\n                      placeholder=\"中文摘要\"\r\n                      value={abstractContent}\r\n                      onChange={(e) => {\r\n                        setAbstractContent(e.target.value);\r\n                      }}\r\n                      autosize />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n                <Row>\r\n                  <Col span={3}>\r\n                    <p style={{\r\n                      fontFamily: 'SimHei',\r\n                      fontSize: '18px',\r\n                      fontWeight: 'bold',\r\n                      display: 'inline'\r\n                    }}>关键词</p>\r\n                  </Col>\r\n                  <Col span={21}>\r\n                    <TextArea\r\n                      style={{\r\n                        fontFamily: 'SimSun',\r\n                        fontSize: '14px',\r\n                        fontWeight: 'bold',\r\n                        lineHeight: '20px',\r\n                        display: 'inline'\r\n                      }}\r\n                      value={keywords}\r\n                      onChange={(e) => {\r\n                        setKeywords(e.target.value);\r\n                      }}\r\n                      placeholder=\"中文关键词\"\r\n                      autosize />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>绪 论</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '60%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                placeholder=\"绪论\"\r\n                value={introduction}\r\n                onChange={(e) => {\r\n                  setIntroduction(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>正 文</p>\r\n              <TextArea\r\n                style={{ fontFamily: 'SimSun', fontSize: '14px', width: '70%', lineHeight: '20px' }}\r\n                placeholder=\"正文\"\r\n                value={content}\r\n                onChange={(e) => {\r\n                  setContent(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>结束语</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '70%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                placeholder=\"结束语\"\r\n                value={conclusion}\r\n                onChange={(e) => {\r\n                  setConclusion(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>致 谢</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '70%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                value={acknowledgement}\r\n                placeholder=\"致谢\"\r\n                onChange={(e) => {\r\n                  setAcknowledgement(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div>\r\n                <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold', display: 'inline' }}>参考文献</p>\r\n                <ButtonGroup style={{ display: 'inline', margin: '10px' }}>\r\n                  <Button onClick={() => {\r\n                    let newRefs: Reference[] = refs;\r\n                    newRefs = newRefs.slice(0, newRefs.length - 1);\r\n                    setRefs(newRefs);\r\n                  }}>\r\n                    <Icon type=\"minus\" />\r\n                  </Button>\r\n                  <Button onClick={() => {\r\n                    setIsModelShow(true)\r\n                  }}>\r\n                    <Icon type=\"plus\" />\r\n                  </Button>\r\n                </ButtonGroup>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  borderRadius: '4px',\r\n                  backgroundColor: '#f5f5f5',\r\n                  minHeight: '32px',\r\n                  padding: '4px 11px',\r\n                  fontSize: '14px',\r\n                  lineHeight: '1.5',\r\n                  border: '1px solid #d9d9d9',\r\n                  margin: '10px',\r\n                  marginLeft: '15%',\r\n                  marginRight: '15%',\r\n                }}>\r\n                {refs.map(((ref, index) => (<p>【{index + 1}】{\r\n                  ref.type === \"published\" ? ref.doi : ref.content\r\n                }</p>)))}\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(1)\r\n              }}>\r\n                下一步\r\n                <Icon type=\"right\" />\r\n              </Button>\r\n            </div>\r\n          </div>) : null}\r\n\r\n        {step == 1 ? (<div>\r\n          <div\r\n            style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center' }}>{title}</div>\r\n          <div style={{ margin: '20px' }}>\r\n            <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n              <Row>\r\n                <Col span={3}>\r\n                  <p style={{\r\n                    fontFamily: 'SimHei',\r\n                    fontSize: '18px',\r\n                    fontWeight: 'bold',\r\n                    display: 'inline-block'\r\n                  }}>摘 要</p>\r\n                </Col>\r\n                <Col span={21}>\r\n                  <div\r\n                    style={{\r\n                      fontFamily: 'SimSun',\r\n                      fontSize: '14px',\r\n                      lineHeight: '20px',\r\n                      display: 'inline-block'\r\n                    }}>{abstractContent}</div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n          <div style={{ margin: '20px' }}>\r\n            <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n              <Row>\r\n                <Col span={3}>\r\n                  <p style={{\r\n                    fontFamily: 'SimHei',\r\n                    fontSize: '18px',\r\n                    fontWeight: 'bold',\r\n                    display: 'inline'\r\n                  }}>关键词</p>\r\n                </Col>\r\n                <Col span={21}>\r\n                  <div\r\n                    style={{\r\n                      fontFamily: 'SimSun',\r\n                      fontSize: '14px',\r\n                      fontWeight: 'bold',\r\n                      lineHeight: '20px',\r\n                      display: 'inline'\r\n                    }}\r\n                  >{keywords}</div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>绪 论</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{introduction}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>正 文</p>\r\n            <Latex\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                lineHeight: '20px'\r\n              }}>{content}</Latex>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>结束语</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{conclusion}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>致 谢</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{acknowledgement}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>参考文献</p>\r\n            {refs.map(((ref, index) => (<p style={{\r\n              fontFamily: 'SimSun',\r\n              fontSize: '14px',\r\n              lineHeight: '20px'\r\n            }}>【{index + 1}】{\r\n                ref.type === \"published\" ? ref.doi : ref.content\r\n              }</p>)))}\r\n          </div>\r\n          <div style={{ textAlign: 'center', margin: '20px' }}>\r\n            <ButtonGroup>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(0)\r\n              }}>\r\n                <Icon type=\"left\" />\r\n                上一步\r\n              </Button>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(2)\r\n              }}>\r\n                下一步\r\n                <Icon type=\"right\" />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        </div>) : null}\r\n\r\n        {step == 2 ? (\r\n          <div style={{ textAlign: 'center', paddingBottom: '50px' }}>\r\n            <div\r\n              style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center', margin: '20px' }}>确定提交？\r\n            </div>\r\n\r\n            <Button type=\"default\" size={\"large\"} style={{ margin: '10px' }} onClick={() => {\r\n              setStep(1)\r\n            }}>\r\n              取消\r\n            </Button>\r\n\r\n            <Button type=\"primary\" size={\"large\"} style={{ margin: '10px' }} onClick={() => onSubmit({\r\n              title,\r\n              abstractContent,\r\n              keywords,\r\n              introduction,\r\n              content,\r\n              conclusion,\r\n              acknowledgement,\r\n              refs\r\n            })}>\r\n              确定\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </FunctionLayout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wizard;\r\n","import React, { useState } from \"react\";\r\nimport { RouteComponentProps, navigate } from \"@reach/router\";\r\nimport Wizard from \"./PaperEditing/Wizard\";\r\nimport { getApiService } from \"../apis\";\r\nimport { PaperService } from \"../apis/paper/PaperService\";\r\nimport PageLoading from \"../components/PageLoading\";\r\nimport Query from \"../apis/Query\";\r\nimport { message } from \"antd\";\r\n\r\n// paperId\r\nconst PaperEditPage: React.FunctionComponent<RouteComponentProps> = ({ paperId }: any) => {\r\n  const paperService = getApiService(PaperService);\r\n  return (\r\n    <Query call={() => paperService.getPaper(paperId)}>\r\n      {(data, loading) => {\r\n        if (loading) {\r\n          return <PageLoading />;\r\n        }\r\n\r\n        return <Wizard paperDraft={data.paper.paper} onSubmit={(draft) => {\r\n          paperService.modifyPaper(paperId, draft).then(() => {\r\n            message.success(\"编辑成功!\");\r\n            navigate(`/papers/${paperId}`);\r\n          });\r\n        }} />\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\nexport default PaperEditPage;\r\n"],"sourceRoot":""}