{"version":3,"sources":["apis/paper/PaperService.ts","apis/HttpService.ts","apis/paper/PaperServiceMock.ts","apis/user/UserServiceMock.ts","apis/collabration/CollabrationServiceMock.ts","apis/index.ts","apis/user/UserService.ts","apis/collabration/CollabrationService.ts","apis/Query.tsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/rc-steps/es/utils.js","../node_modules/rc-steps/es/Steps.js","../node_modules/rc-steps/es/Step.js","../node_modules/rc-steps/es/index.js","../node_modules/antd/es/steps/index.js","pages/PaperEditing/ReferenceAddingModal.tsx","pages/PaperEditing/Wizard.tsx","pages/PaperEditPage.tsx"],"names":["PaperService","_HttpService","Object","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","apply","arguments","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__","key","value","_uploadPaper","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_Projects_ChainPaper_Frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","paperDraft","data","wrap","_context","prev","next","fetch","path","method","HttpMethod","POST","body","sent","abrupt","stop","_x","_modifyPaper","_callee2","paperId","_context2","concat","PUT","_x2","_x3","_getPapers","_callee3","_context3","GET","_getPaper","_callee4","_context4","_x4","_getPaperScore","_callee5","_context5","_x5","_getPaperComments","_callee6","_context6","_x6","_scorePaper","_callee7","score","_context7","_x7","_x8","_getPaperStar","_callee8","_context8","_x9","_starPaper","_callee9","operation","_context9","star","_x10","_x11","_commentPaper","_callee10","commentContent","_context10","comment","_x12","_x13","_getPaperRefGraph","_callee11","_context11","_x14","HttpService","axiosInstance","axios","create","baseURL","headers","Content-Type","_fetch","fetchInfo","response","url","params","t0","request","status","get","comments","userId","time","content","stars","papers","authors","paper","title","refs","type","doi","keywords","abstractContent","introduction","conclusion","acknowledgement","uploadTime","state","PaperServiceMock","_PaperService","classCallCheck","possibleConstructorReturn","getPrototypeOf","inherits","createClass","asyncToGenerator","regenerator_default","stared","Math","random","myScore","sleepMs","UserServiceMock","username","password","token","error","role","paperIds","map","x","paperIdsInCollabration","collabrationInvitationIds","collabrationRequestIds","UserService","CollabrationServiceMock","_CollabrationService","_requestCollabration","collabrationRequestId","_acceptCollabrationRequest","_inviteCollabration","inviteeId","collabrationInvitationId","_acceptCollabrationInvitation","_getCollabrationInvitationInfo","inviterId","_getCollabrationRequestInfo","requesteeId","requesterId","CollabrationService","__webpack_require__","d","__webpack_exports__","getApiService","services","serviceConfig","Map","serviceType","forEach","item","set","_this","call","getUserInfoInStorage","setToken","_login","_register","e1","_getUserInfo","defaults","common","Authorization","Query","loading","undefined","setState","props","then","catch","e","_this$state","children","React","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","isFlexSupported","window","document","documentElement","style","Steps_Steps","_Component","Steps","classCallCheck_default","possibleConstructorReturn_default","onStepClick","_this$props","onChange","current","calcStepOffsetWidth","domNode","react_dom","calcTimeout","clearTimeout","setTimeout","lastStepOffsetWidth","lastChild","offsetWidth","abs","flexSupported","debounce_default","inherits_default","componentDidMount","componentDidUpdate","componentWillUnmount","cancel","render","_classNames","_this2","_props","prefixCls","_props$style","className","direction","labelPlacement","iconPrefix","size","progressDot","initial","icons","restProps","objectWithoutProperties_default","_state","filteredChildren","react_default","Children","toArray","filter","c","lastIndex","adjustedlabelPlacement","classString","classnames_default","createElement","extends_default","react","child","index","stepNumber","childProps","stepIndex","wrapperStyle","itemWidth","adjustMarginRight","round","propTypes","prop_types_default","string","any","oneOfType","bool","func","object","number","shape","finish","node","defaultProps","es_Steps","isString","str","Step_Step","_React$Component","Step","_temp","_ret","_len","args","_key","_initialiseProps","renderIconNode","description","icon","iconClassName","iconDot","_classNames2","_props2","_props2$status","tailContent","onClick","stepItemStyle","width","marginRight","accessibilityProps","tabIndex","Component","_props3","es_Step","es","_typeof","obj","constructor","_extends","assign","target","source","hasOwnProperty","_defineProperties","descriptor","enumerable","configurable","writable","defineProperty","_possibleConstructorReturn","self","ReferenceError","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","__proto__","_setPrototypeOf","p","steps_Steps","instance","Constructor","_classCallCheck","renderSteps","_ref","getPrefixCls","es_icon","protoProps","staticProps","subClass","superClass","_inherits","config_provider","prop_types","TabPane","tabs","ReferenceAddingModal","paperService","_useState","useState","_useState2","slicedToArray","setPaperId","_useState3","_useState4","setDoi","_useState5","_useState6","setType","modal","visible","show","onOk","onAdd","getPaper","join","message","close","onCancel","defaultActiveKey","activeKey","tab","input","placeholder","ButtonGroup","Sider","Content","es_button","Group","TextArea","Wizard","onSubmit","setTitle","setKeywords","setAbstractContent","_useState7","_useState8","setIntroduction","_useState9","_useState10","setContent","_useState11","_useState12","setConclusion","_useState13","_useState14","setAcknowledgement","_useState15","_useState16","setRefs","_useState17","_useState18","isModelShow","setIsModelShow","_useState19","_useState20","step","setStep","PaperEditing_ReferenceAddingModal","newRef","FunctionLayout","padding","Wizard_Step","textAlign","margin","marginTop","fontFamily","fontSize","autosize","marginLeft","row","col","span","fontWeight","display","lineHeight","newRefs","slice","borderRadius","backgroundColor","minHeight","border","ref","latex_default","paddingBottom","PaperEditPage","react__WEBPACK_IMPORTED_MODULE_2___default","_apis_Query__WEBPACK_IMPORTED_MODULE_8__","_components_PageLoading__WEBPACK_IMPORTED_MODULE_7__","_PaperEditing_Wizard__WEBPACK_IMPORTED_MODULE_4__","draft","modifyPaper","antd_es_message__WEBPACK_IMPORTED_MODULE_1__","success","navigate"],"mappings":"2MAgBaA,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAE,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GAAAE,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAF,EAAAC,GAAAC,OAAAQ,EAAA,EAAAR,CAAAF,EAAA,EAAAW,IAAA,cAAAC,MAAA,eAAAC,EAAAX,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,EACoBC,GADpB,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEuBpB,KAAKqB,MAAM,CAC5BC,KAAM,UACNC,OAAQC,IAAWC,KACnBC,KAAM,CAAEX,gBALd,cAEUC,EAFVE,EAAAS,KAAAT,EAAAU,OAAA,SAQWZ,GARX,wBAAAE,EAAAW,SAAAf,EAAAd,SAAA,gBAAA8B,GAAA,OAAArB,EAAAN,MAAAH,KAAAI,YAAA,KAAAG,IAAA,cAAAC,MAAA,eAAAuB,EAAAjC,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmB,EAWoBC,EAAiBlB,GAXrC,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EAYuBpB,KAAKqB,MAAM,CAC5BC,KAAI,WAAAa,OAAaF,GACjBV,OAAQC,IAAWY,IACnBV,KAAM,CAAEX,gBAfd,cAYUC,EAZVkB,EAAAP,KAAAO,EAAAN,OAAA,SAkBWZ,GAlBX,wBAAAkB,EAAAL,SAAAG,EAAAhC,SAAA,gBAAAqC,EAAAC,GAAA,OAAAP,EAAA5B,MAAAH,KAAAI,YAAA,KAAAG,IAAA,YAAAC,MAAA,eAAA+B,EAAAzC,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA2B,IAAA,IAAAxB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EAuBuBpB,KAAKqB,MAAM,CAC5BC,KAAI,UACJC,OAAQC,IAAWkB,MAzBzB,cAuBU1B,EAvBVyB,EAAAd,KAAAc,EAAAb,OAAA,SA4BWZ,GA5BX,wBAAAyB,EAAAZ,SAAAW,EAAAxC,SAAA,yBAAAuC,EAAApC,MAAAH,KAAAI,YAAA,KAAAG,IAAA,WAAAC,MAAA,eAAAmC,EAAA7C,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA+B,EAgCiBX,GAhCjB,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAzB,KAAA,EAiCuBpB,KAAKqB,MAAM,CAC5BC,KAAI,WAAAa,OAAaF,GACjBV,OAAQC,IAAWkB,MAnCzB,cAiCU1B,EAjCV6B,EAAAlB,KAAAkB,EAAAjB,OAAA,SAsCWZ,GAtCX,wBAAA6B,EAAAhB,SAAAe,EAAA5C,SAAA,gBAAA8C,GAAA,OAAAH,EAAAxC,MAAAH,KAAAI,YAAA,KAAAG,IAAA,gBAAAC,MAAA,eAAAuC,EAAAjD,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmC,EAyCsBf,GAzCtB,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EA0CuBpB,KAAKqB,MAAM,CAC5BC,KAAI,WAAAa,OAAaF,EAAb,UACJV,OAAQC,IAAWkB,MA5CzB,cA0CU1B,EA1CViC,EAAAtB,KAAAsB,EAAArB,OAAA,SA+CWZ,GA/CX,wBAAAiC,EAAApB,SAAAmB,EAAAhD,SAAA,gBAAAkD,GAAA,OAAAH,EAAA5C,MAAAH,KAAAI,YAAA,KAAAG,IAAA,mBAAAC,MAAA,eAAA2C,EAAArD,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAuC,EAkDyBnB,GAlDzB,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAjC,KAAA,EAmDuBpB,KAAKqB,MAAM,CAC5BC,KAAI,WAAAa,OAAaF,EAAb,YACJV,OAAQC,IAAWkB,MArDzB,cAmDU1B,EAnDVqC,EAAA1B,KAAA0B,EAAAzB,OAAA,SAwDWZ,GAxDX,wBAAAqC,EAAAxB,SAAAuB,EAAApD,SAAA,gBAAAsD,GAAA,OAAAH,EAAAhD,MAAAH,KAAAI,YAAA,KAAAG,IAAA,aAAAC,MAAA,eAAA+C,EAAAzD,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA2C,EA4DmBvB,EAAiBwB,GA5DpC,OAAA9C,EAAAC,EAAAK,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAAAsC,EAAAtC,KAAA,EA6DUpB,KAAKqB,MAAM,CACfC,KAAI,WAAAa,OAAaF,EAAb,UACJP,KAAM,CAAE+B,SACRlC,OAAQC,IAAWC,OAhEzB,wBAAAiC,EAAA7B,SAAA2B,EAAAxD,SAAA,gBAAA2D,EAAAC,GAAA,OAAAL,EAAApD,MAAAH,KAAAI,YAAA,KAAAG,IAAA,eAAAC,MAAA,eAAAqD,EAAA/D,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAiD,EAoEqB7B,GApErB,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAA8C,GAAA,cAAAA,EAAA5C,KAAA4C,EAAA3C,MAAA,cAqEUJ,EAAOhB,KAAKqB,MAAM,CACtBC,KAAI,WAAAa,OAAaF,EAAb,SACJV,OAAQC,IAAWkB,MAvEzBqB,EAAAnC,OAAA,SA0EWZ,GA1EX,wBAAA+C,EAAAlC,SAAAiC,EAAA9D,SAAA,gBAAAgE,GAAA,OAAAH,EAAA1D,MAAAH,KAAAI,YAAA,KAAAG,IAAA,YAAAC,MAAA,eAAAyD,EAAAnE,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAqD,EA6EkBjC,EAAiBkC,GA7EnC,OAAAxD,EAAAC,EAAAK,KAAA,SAAAmD,GAAA,cAAAA,EAAAjD,KAAAiD,EAAAhD,MAAA,cAAAgD,EAAAhD,KAAA,EA8EUpB,KAAKqB,MAAM,CACfC,KAAI,WAAAa,OAAaF,EAAb,SACJP,KAAM,CAAE2C,KAAmB,QAAbF,GACd5C,OAAQC,IAAWC,OAjFzB,wBAAA2C,EAAAvC,SAAAqC,EAAAlE,SAAA,gBAAAsE,EAAAC,GAAA,OAAAN,EAAA9D,MAAAH,KAAAI,YAAA,KAAAG,IAAA,eAAAC,MAAA,eAAAgE,EAAA1E,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA4D,EAqFqBxC,EAAiByC,GArFtC,OAAA/D,EAAAC,EAAAK,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,cAAAuD,EAAAvD,KAAA,EAsFUpB,KAAKqB,MAAM,CACfC,KAAI,WAAAa,OAAaF,EAAb,YACJP,KAAM,CAAEkD,QAASF,GACjBnD,OAAQC,IAAWC,OAzFzB,wBAAAkD,EAAA9C,SAAA4C,EAAAzE,SAAA,gBAAA6E,EAAAC,GAAA,OAAAN,EAAArE,MAAAH,KAAAI,YAAA,KAAAG,IAAA,mBAAAC,MAAA,eAAAuE,EAAAjF,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmE,EA6FyB/C,GA7FzB,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAgE,GAAA,cAAAA,EAAA9D,KAAA8D,EAAA7D,MAAA,cA8FUJ,EAAOhB,KAAKqB,MAAW,CAC3BC,KAAI,WAAAa,OAAaF,EAAb,SACJV,OAAQC,IAAWkB,MAhGzBuC,EAAArD,OAAA,SAmGWZ,GAnGX,wBAAAiE,EAAApD,SAAAmD,EAAAhF,SAAA,gBAAAkF,GAAA,OAAAH,EAAA5E,MAAAH,KAAAI,YAAA,MAAAR,EAAA,CAAkCuF,2GCNtB3D,gKAcZ,IAEM4D,EAAgBC,IAAMC,OAAO,CAAEC,QAFpB,6BAEuCC,QAAS,CAAEC,eAAgB,uBAEtEN,EAAb,oBAAAA,IAAArF,OAAAC,EAAA,EAAAD,CAAAE,KAAAmF,GAAA,OAAArF,OAAAQ,EAAA,EAAAR,CAAAqF,EAAA,EAAA5E,IAAA,QAAAC,MAAA,eAAAkF,EAAA5F,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,EAYiB6E,GAZjB,IAAAC,EAAA,OAAAjF,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAc6BgE,EAAc,CACnC7D,OAAQoE,EAAUpE,OAClBsE,IAAKF,EAAUrE,KACfwE,OAAQH,EAAUG,OAClB9E,KAAM2E,EAAUjE,OAlBxB,cAcYkE,EAdZ1E,EAAAS,KAAAT,EAAAU,OAAA,SAoBagE,EAAS5E,MApBtB,UAAAE,EAAAC,KAAA,EAAAD,EAAA6E,GAAA7E,EAAA,UAsBUA,EAAA6E,GAAEH,SAtBZ,CAAA1E,EAAAE,KAAA,eAAAF,EAAA6E,GAAA,YA0BiB7E,EAAA6E,GAAEC,QA1BnB,CAAA9E,EAAAE,KAAA,cA8Bc,CACJ6E,QAAS,EACTjF,KAAM,MAhChB,aAqCc,CACJiF,QAAS,EACTjF,KAAM,MAvChB,yBAAAE,EAAAW,SAAAf,EAAA,iCAAAgB,GAAA,OAAA4D,EAAAvF,MAAAH,KAAAI,YAAA,KAAAG,IAAA,QAAA2F,IAAA,WAGI,OAAOd,MAHXD,EAAA,sICvBMgB,EAAW,CACf,CAAEC,OAAQ,IAAKC,KAAM,gBAAiBC,QAAS,eAAMC,MAAO,IAC5D,CAAEH,OAAQ,IAAKC,KAAM,aAAcC,QAAS,2BAAQC,MAAO,IAGhDC,EAAsB,CACjC,CACEvE,QAAS,IAAKwE,QAAS,CAAC,MAAO,KAAMC,MAAO,CAC1CC,MAAO,+GACPC,KAAM,CAAC,CAAEC,KAAM,YAAaC,IAAK,0BAA2BR,QAAS,OAAS,CAC5EO,KAAM,aACN5E,QAAS,IACT0E,MAAO,MACPL,QAAS,8GAEXS,SAAU,aACVC,gBAAiB,wyDACjBC,aAAc,MACdX,QAAS,SACTY,WAAY,OACZC,gBAAiB,cAEnBC,WAAY,aAAc3D,MAAO,GAAI8C,MAAO,GAAIJ,WAChDkB,MAAO,SAIEC,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAxH,OAAA0H,EAAA,EAAA1H,CAAAE,KAAAsH,GAAAxH,OAAA2H,EAAA,EAAA3H,CAAAE,KAAAF,OAAA4H,EAAA,EAAA5H,CAAAwH,GAAAnH,MAAAH,KAAAI,YAAA,OAAAN,OAAA6H,EAAA,EAAA7H,CAAAwH,EAAAC,GAAAzH,OAAA8H,EAAA,EAAA9H,CAAAwH,EAAA,EAAA/G,IAAA,cAAAC,MAAA,eAAAC,EAAAX,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAC,EACoBC,GADpB,OAAA+G,EAAAlH,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAU,OAAA,SAEW,CAAEK,QAAS,QAFtB,wBAAAf,EAAAW,SAAAf,MAAA,gBAAAgB,GAAA,OAAArB,EAAAN,MAAAH,KAAAI,YAAA,KAAAG,IAAA,cAAAC,MAAA,eAAAuB,EAAAjC,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAmB,EAKoBC,EAAiBlB,GALrC,OAAA+G,EAAAlH,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAN,OAAA,SAMW,CAAEK,QAAS,QANtB,wBAAAC,EAAAL,SAAAG,MAAA,gBAAAK,EAAAC,GAAA,OAAAP,EAAA5B,MAAAH,KAAAI,YAAA,KAAAG,IAAA,YAAAC,MAAA,eAAA+B,EAAAzC,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA2B,IAAA,OAAAsF,EAAAlH,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAAb,OAAA,SAUW,CAAE4E,WAVb,wBAAA/D,EAAAZ,SAAAW,MAAA,yBAAAD,EAAApC,MAAAH,KAAAI,YAAA,KAAAG,IAAA,WAAAC,MAAA,eAAAmC,EAAA7C,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA+B,EAaiBX,GAbjB,OAAA6F,EAAAlH,EAAAK,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAjB,OAAA,SAcW,CAAE8E,MAAOF,EAAO,KAd3B,wBAAA3D,EAAAhB,SAAAe,MAAA,gBAAAE,GAAA,OAAAH,EAAAxC,MAAAH,KAAAI,YAAA,KAAAG,IAAA,aAAAC,MAAA,eAAA+C,EAAAzD,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAmC,EAiBmBf,EAAiBwB,GAjBpC,OAAAqE,EAAAlH,EAAAK,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,wBAAA6B,EAAApB,SAAAmB,MAAA,gBAAAE,EAAAI,GAAA,OAAAC,EAAApD,MAAAH,KAAAI,YAAA,KAAAG,IAAA,eAAAC,MAAA,eAAAqD,EAAA/D,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAuC,EAsBqBnB,GAtBrB,OAAA6F,EAAAlH,EAAAK,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAzB,OAAA,SAuBW,CAAE2E,MAAO,EAAGwB,OAAQC,KAAKC,SAAW,KAvB/C,wBAAA5E,EAAAxB,SAAAuB,MAAA,gBAAAO,GAAA,OAAAE,EAAA1D,MAAAH,KAAAI,YAAA,KAAAG,IAAA,gBAAAC,MAAA,eAAAuC,EAAAjD,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA2C,EA0BsBvB,GA1BtB,OAAA6F,EAAAlH,EAAAK,KAAA,SAAAyC,GAAA,cAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAAAsC,EAAA9B,OAAA,SA2BW,CAAE6B,MAAO,EAAGyE,QAASF,KAAKC,SAAW,GAAM,GAAK,IA3B3D,wBAAAvE,EAAA7B,SAAA2B,MAAA,gBAAAI,GAAA,OAAAb,EAAA5C,MAAAH,KAAAI,YAAA,KAAAG,IAAA,mBAAAC,MAAA,eAAA2C,EAAArD,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAiD,EA8ByB7B,GA9BzB,OAAA6F,EAAAlH,EAAAK,KAAA,SAAA8C,GAAA,cAAAA,EAAA5C,KAAA4C,EAAA3C,MAAA,cAAA2C,EAAA3C,KAAA,EA+BU+G,YAAQ,KA/BlB,cAAApE,EAAAnC,OAAA,SAgCW,CAAEuE,aAhCb,wBAAApC,EAAAlC,SAAAiC,MAAA,gBAAAE,GAAA,OAAAb,EAAAhD,MAAAH,KAAAI,YAAA,KAAAG,IAAA,YAAAC,MAAA,eAAAyD,EAAAnE,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAqD,EAoCkBjC,EAAiBkC,GApCnC,OAAA2D,EAAAlH,EAAAK,KAAA,SAAAmD,GAAA,cAAAA,EAAAjD,KAAAiD,EAAAhD,MAAA,wBAAAgD,EAAAvC,SAAAqC,MAAA,gBAAAI,EAAAC,GAAA,OAAAN,EAAA9D,MAAAH,KAAAI,YAAA,KAAAG,IAAA,eAAAC,MAAA,eAAAgE,EAAA1E,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA4D,EAwCqBxC,EAAiByC,GAxCtC,OAAAoD,EAAAlH,EAAAK,KAAA,SAAA0D,GAAA,cAAAA,EAAAxD,KAAAwD,EAAAvD,MAAA,wBAAAuD,EAAA9C,SAAA4C,MAAA,gBAAAI,EAAAC,GAAA,OAAAN,EAAArE,MAAAH,KAAAI,YAAA,KAAAG,IAAA,mBAAAC,MAAA,eAAAuE,EAAAjF,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAmE,EA4CyB/C,GA5CzB,OAAA6F,EAAAlH,EAAAK,KAAA,SAAAgE,GAAA,cAAAA,EAAA9D,KAAA8D,EAAA7D,MAAA,cAAA6D,EAAArD,OAAA,SA6CW,CACLgF,KACE,CACEC,KAAM,YACNC,IAAK,0BACLR,QAAS,MACTM,KAAM,CAAS,CACbC,KAAM,aACNF,MAAO,oBACPL,QAAS,YACTrE,QAAS,MACT2E,KAAM,CACJ,CACEC,KAAM,aACNF,MAAO,oBACPL,QAAS,YACTrE,QAAS,MACT2E,KAAM,CACJ,CACEC,KAAM,aACNF,MAAO,oBACPL,QAAS,YACTrE,QAAS,OACT2E,KAAM,YApE1B,wBAAA3B,EAAApD,SAAAmD,MAAA,gBAAAE,GAAA,OAAAH,EAAA5E,MAAAH,KAAAI,YAAA,MAAAkH,EAAA,CAAsC1H,KC3BjBwI,wNACPC,EAAkBC,sEACxBD,IAAaC,2CACR,CAAElC,OAAQiC,EAAUE,MAAO,yCAE3B,CAAEC,MAAO,uLAILH,EAAkBC,EAAkBG,sEAChC,MAAbJ,2CACK,CAAEjC,OAAQiC,EAAUE,MAAO,yCAE3B,CAAEC,MAAO,4LAIFpC,4FACT,CACLA,SACAiC,SAAQ,GAAAlG,OAAKiE,EAAL,WACRqC,KAAM,UACNC,SAAUlC,EAAOmC,IAAI,SAAAC,GAAC,OAAIA,EAAE3G,UAC5B4G,uBAAwBrC,EAAOmC,IAAI,SAAAC,GAAC,OAAIA,EAAE3G,UAC1CwB,MAAO,IACPqF,0BAA2B,CACzB,MAAO,QAETC,uBAAwB,CAAC,MAAO,+GA5BOC,cCDhCC,EAAb,SAAAC,GAAA,SAAAD,IAAA,OAAAnJ,OAAA0H,EAAA,EAAA1H,CAAAE,KAAAiJ,GAAAnJ,OAAA2H,EAAA,EAAA3H,CAAAE,KAAAF,OAAA4H,EAAA,EAAA5H,CAAAmJ,GAAA9I,MAAAH,KAAAI,YAAA,OAAAN,OAAA6H,EAAA,EAAA7H,CAAAmJ,EAAAC,GAAApJ,OAAA8H,EAAA,EAAA9H,CAAAmJ,EAAA,EAAA1I,IAAA,sBAAAC,MAAA,eAAA2I,EAAArJ,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAC,EAC4BmB,GAD5B,OAAA6F,EAAAlH,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAU,OAAA,SAEW,CAAEwH,sBAAuB,QAFpC,wBAAAlI,EAAAW,SAAAf,MAAA,gBAAAgB,GAAA,OAAAqH,EAAAhJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,4BAAAC,MAAA,eAAA6I,EAAAvJ,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAmB,EAKkCoH,GALlC,OAAAtB,EAAAlH,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,wBAAAc,EAAAL,SAAAG,MAAA,gBAAAK,GAAA,OAAAgH,EAAAlJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,qBAAAC,MAAA,eAAA8I,EAAAxJ,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA2B,EAS2BP,EAAiBsH,GAT5C,OAAAzB,EAAAlH,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAAb,OAAA,SAUW,CAAE4H,yBAA0B,QAVvC,wBAAA/G,EAAAZ,SAAAW,MAAA,gBAAAF,EAAAQ,GAAA,OAAAwG,EAAAnJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,+BAAAC,MAAA,eAAAiJ,EAAA3J,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAA+B,EAaqC4G,GAbrC,OAAA1B,EAAAlH,EAAAK,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,wBAAAyB,EAAAhB,SAAAe,MAAA,gBAAAM,GAAA,OAAAuG,EAAAtJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,gCAAAC,MAAA,eAAAkJ,EAAA5J,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAmC,EAiBsCwG,GAjBtC,OAAA1B,EAAAlH,EAAAK,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAArB,OAAA,SAkBW,CAAE4H,2BAA0BnD,KAAM,aAAckD,UAAW,MAAOI,UAAW,MAAO1H,QAAS,QAlBxG,wBAAAgB,EAAApB,SAAAmB,MAAA,gBAAAM,GAAA,OAAAoG,EAAAvJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,6BAAAC,MAAA,eAAAoJ,EAAA9J,OAAA+H,EAAA,EAAA/H,CAAAgI,EAAAlH,EAAAC,KAAA,SAAAuC,EAqBmCgG,GArBnC,OAAAtB,EAAAlH,EAAAK,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAAAiC,EAAAzB,OAAA,SAsBW,CAAEwH,wBAAuB/C,KAAM,aAAcwD,YAAa,MAAOC,YAAa,MAAO7H,QAAS,QAtBzG,wBAAAoB,EAAAxB,SAAAuB,MAAA,gBAAAO,GAAA,OAAAiG,EAAAzJ,MAAAH,KAAAI,YAAA,MAAA6I,EAAA,CAA6Cc,KCH7CC,EAAAC,EAAAC,EAAA,sBAAAC,IAOO,IAEDC,EAAW,CACf,CAACpB,IAAwBZ,GACzB,CAACxI,IAAyB0H,GAC1B,CAACyC,IAAgCd,IAI7BoB,EAAgB,IAAIC,IAMnB,SAASH,EAAyCI,GACvD,OAAOF,EAAcnE,IAAIqE,GAL3BH,EAASI,QAAQ,SAACC,GAChBJ,EAAcK,IAAID,EAAK,GAAI,IAAIA,EAAK,gKCVzBzB,EAAb,SAAAnJ,GAEE,SAAAmJ,IAAc,IAAA2B,EAAA7K,OAAAC,EAAA,EAAAD,CAAAE,KAAAgJ,GACZ2B,EAAA7K,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkJ,GAAA4B,KAAA5K,OAEA,IAAMgB,EAAO6J,cAHD,OAIR7J,GACF2J,EAAKG,SAAS9J,EAAKuH,OALToC,EAFhB,OAAA7K,OAAAO,EAAA,EAAAP,CAAAkJ,EAAAnJ,GAAAC,OAAAQ,EAAA,EAAAR,CAAAkJ,EAAA,EAAAzI,IAAA,QAAAC,MAAA,eAAAuK,EAAAjL,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,EAWcuH,EAAkBC,GAXhC,IAAAtH,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAayBpB,KAAKqB,MAAgB,CACtCE,OAAQC,IAAWkB,IACnBoD,OAAQ,CAAEuC,WAAUC,YACpBhH,KAAM,WAhBd,cAaYN,EAbZE,EAAAS,MAkBe4G,OACPvI,KAAK8K,SAAS9J,EAAKuH,OAnB3BrH,EAAAU,OAAA,SAqBaZ,GArBb,cAAAE,EAAAC,KAAA,EAAAD,EAAA6E,GAAA7E,EAAA,SAAAA,EAAAU,OAAA,SAuBaV,EAAA6E,GAAiB/E,MAvB9B,yBAAAE,EAAAW,SAAAf,EAAAd,KAAA,4BAAA8B,EAAAO,GAAA,OAAA0I,EAAA5K,MAAAH,KAAAI,YAAA,KAAAG,IAAA,WAAAC,MAAA,eAAAwK,EAAAlL,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmB,EA4BiBqG,EAAkBC,EAAkBG,GA5BrD,IAAAzH,EAAAiK,EAAA,OAAAtK,EAAAC,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAf,KAAA,EAAAe,EAAAd,KAAA,EA8ByBpB,KAAKqB,MAAM,CAC5BE,OAAQC,IAAWC,KACnBC,KAAM,CAAE2G,WAAUC,WAAUG,QAC5BnH,KAAM,cAjCd,cA8BYN,EA9BZkB,EAAAP,KAAAO,EAAAN,OAAA,SAmCaZ,GAnCb,cAAAkB,EAAAf,KAAA,EAAAe,EAAA6D,GAAA7D,EAAA,SAqCY+I,EArCZ/I,EAAA6D,GAAA7D,EAAAN,OAAA,SAsCaqJ,EAAGjK,MAtChB,yBAAAkB,EAAAL,SAAAG,EAAAhC,KAAA,4BAAAsC,EAAAQ,EAAAI,GAAA,OAAA8H,EAAA7K,MAAAH,KAAAI,YAAA,KAAAG,IAAA,cAAAC,MAAA,eAAA0K,EAAApL,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA2B,EA2CoB4D,GA3CpB,IAAApF,EAAAiK,EAAA,OAAAtK,EAAAC,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAAtB,KAAA,EAAAsB,EAAArB,KAAA,EA6CyBpB,KAAKqB,MAAgB,CACtCE,OAAQC,IAAWkB,IACnBpB,KAAI,SAAAa,OAAWiE,KA/CvB,cA6CYpF,EA7CZyB,EAAAd,KAAAc,EAAAb,OAAA,SAiDaZ,GAjDb,cAAAyB,EAAAtB,KAAA,EAAAsB,EAAAsD,GAAAtD,EAAA,SAmDYwI,EAnDZxI,EAAAsD,GAAAtD,EAAAb,OAAA,SAoDaqJ,EAAGjK,MApDhB,yBAAAyB,EAAAZ,SAAAW,EAAAxC,KAAA,4BAAAsD,GAAA,OAAA4H,EAAA/K,MAAAH,KAAAI,YAAA,KAAAG,IAAA,WAAAC,MAAA,SAyDW+H,GACHA,EACFvI,KAAKqF,MAAM8F,SAAS3F,QAAQ4F,OAAOC,cAAnC,UAAAlJ,OAA6DoG,UAEtDvI,KAAKqF,MAAM8F,SAAS3F,QAAQ4F,OAAOC,kBA7DhDrC,EAAA,CAAiC7D,uJCPpB4E,EAAb,SAAAlK,GAAA,SAAAkK,IAAA,OAAAjK,OAAAC,EAAA,EAAAD,CAAAE,KAAA+J,GAAAjK,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAiK,GAAA5J,MAAAH,KAAAI,YAAA,OAAAN,OAAAO,EAAA,EAAAP,CAAAiK,EAAAlK,GAAAC,OAAAQ,EAAA,EAAAR,CAAAiK,EAAA,EAAAxJ,IAAA,sBAAAC,MAAA,eAAA2I,EAAArJ,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAC,EAC4BmB,GAD5B,IAAAjB,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEuBpB,KAAKqB,MAAM,CAC5BC,KAAI,wBACJI,KAAM,CAAEO,WACRV,OAAQC,IAAWC,OALzB,cAEUT,EAFVE,EAAAS,KAAAT,EAAAU,OAAA,SAQWZ,GARX,wBAAAE,EAAAW,SAAAf,EAAAd,SAAA,gBAAA8B,GAAA,OAAAqH,EAAAhJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,4BAAAC,MAAA,eAAA6I,EAAAvJ,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmB,EAWkCoH,GAXlC,OAAAzI,EAAAC,EAAAK,KAAA,SAAAiB,GAAA,cAAAA,EAAAf,KAAAe,EAAAd,MAAA,cAAAc,EAAAd,KAAA,EAYUpB,KAAKqB,MAAM,CACfC,KAAI,wBAAAa,OAA0BiH,GAC9B7H,OAAQC,IAAWC,OAdzB,wBAAAS,EAAAL,SAAAG,EAAAhC,SAAA,gBAAAqC,GAAA,OAAAgH,EAAAlJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,qBAAAC,MAAA,eAAA8I,EAAAxJ,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA2B,EAkB2BP,EAAiBsH,GAlB5C,IAAAvI,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cAAAqB,EAAArB,KAAA,EAmBuBpB,KAAKqB,MAAM,CAC5BC,KAAI,2BACJI,KAAM,CAAEO,UAASsH,aACjBhI,OAAQC,IAAWC,OAtBzB,cAmBUT,EAnBVyB,EAAAd,KAAAc,EAAAb,OAAA,SAyBWZ,GAzBX,wBAAAyB,EAAAZ,SAAAW,EAAAxC,SAAA,gBAAAsC,EAAAQ,GAAA,OAAAwG,EAAAnJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,+BAAAC,MAAA,eAAAiJ,EAAA3J,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAA+B,EA4BqC4G,GA5BrC,OAAA7I,EAAAC,EAAAK,KAAA,SAAA4B,GAAA,cAAAA,EAAA1B,KAAA0B,EAAAzB,MAAA,cAAAyB,EAAAzB,KAAA,EA6BUpB,KAAKqB,MAAM,CACfC,KAAI,4BAAAa,OAA8BqH,GAClCjI,OAAQC,IAAWC,OA/BzB,wBAAAoB,EAAAhB,SAAAe,EAAA5C,SAAA,gBAAAkD,GAAA,OAAAuG,EAAAtJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,gCAAAC,MAAA,eAAAkJ,EAAA5J,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAmC,EAmCsCwG,GAnCtC,IAAAxI,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAgC,GAAA,cAAAA,EAAA9B,KAAA8B,EAAA7B,MAAA,cAAA6B,EAAA7B,KAAA,EAoCuBpB,KAAKqB,MAA8B,CACpDC,KAAI,4BAAAa,OAA8BqH,GAClCjI,OAAQC,IAAWkB,MAtCzB,cAoCU1B,EApCViC,EAAAtB,KAAAsB,EAAArB,OAAA,SAyCWZ,GAzCX,wBAAAiC,EAAApB,SAAAmB,EAAAhD,SAAA,gBAAAsD,GAAA,OAAAoG,EAAAvJ,MAAAH,KAAAI,YAAA,KAAAG,IAAA,6BAAAC,MAAA,eAAAoJ,EAAA9J,OAAAY,EAAA,EAAAZ,CAAAa,EAAAC,EAAAC,KAAA,SAAAuC,EA4CmCgG,GA5CnC,IAAApI,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAoC,GAAA,cAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cA6CUJ,EAAOhB,KAAKqB,MAA2B,CAC3CC,KAAI,yBAAAa,OAA2BiH,GAC/B7H,OAAQC,IAAWkB,MA/CzBW,EAAAzB,OAAA,SAkDWZ,GAlDX,wBAAAqC,EAAAxB,SAAAuB,EAAApD,SAAA,gBAAA2D,GAAA,OAAAiG,EAAAzJ,MAAAH,KAAAI,YAAA,MAAA2J,EAAA,CAAyC5E,0HCcpBmG,6MAEnBjE,MAAQ,CACNkE,SAAS,EACT/C,MAAO,KACPxH,UAAMwK,KAGRnK,MAAQ,WACNsJ,EAAKc,SAAS,CACZF,SAAS,IAGXZ,EAAKe,MAAMd,OAAOe,KAAK,SAAC3K,GACtB2J,EAAKc,SAAS,CACZF,SAAS,EACT/C,MAAO,KACPxH,WAED4K,MAAM,SAACC,GACRlB,EAAKc,SAAS,CACZF,SAAS,EACT/C,MAAOqD,EACP7K,UAAMwK,0FAMVxL,KAAKqB,yCAGE,IAAAyK,EAC0B9L,KAAKqH,MAA9BrG,EADD8K,EACC9K,KAAMuK,EADPO,EACOP,QAAS/C,EADhBsD,EACgBtD,MACvB,OAAOxI,KAAK0L,MAAMK,SAAS/K,EAAQuK,EAAS/C,EAAOxI,KAAKqB,cAlCtB2K,6HCdvB,SAAAC,EAAAC,GACf,OCJe,SAAAA,GACf,GAAAC,MAAAC,QAAAF,GAAA,CACA,QAAAG,EAAA,EAAAC,EAAA,IAAAH,MAAAD,EAAAK,QAAiDF,EAAAH,EAAAK,OAAgBF,IACjEC,EAAAD,GAAAH,EAAAG,GAGA,OAAAC,GDFSE,CAAiBN,IEJX,SAAAO,GACf,GAAAC,OAAAC,YAAA7M,OAAA2M,IAAA,uBAAA3M,OAAA8M,UAAAC,SAAAjC,KAAA6B,GAAA,OAAAN,MAAAW,KAAAL,GFGmCM,CAAeb,IGJnC,WACf,UAAAc,UAAA,mDHG2DC,6PIJpD,SAAAC,IACP,wBAAAC,eAAAC,UAAAD,OAAAC,SAAAC,gBAAA,CACA,IAAAA,EAAAF,OAAAC,SAAAC,gBACA,eAAAA,EAAAC,OAAA,eAAAD,EAAAC,OAAA,SAAAD,EAAAC,OAAA,WAAAD,EAAAC,MAGA,SCQA,IAAIC,EAAK,SAAAC,GAGT,SAAAC,EAAA/B,GACIgC,IAAe1N,KAAAyN,GAEnB,IAAA9C,EAAgBgD,IAA0B3N,KAAAwN,EAAA5C,KAAA5K,KAAA0L,IA6C1C,OA3CAf,EAAAiD,YAAA,SAAAxM,GACA,IAAAyM,EAAAlD,EAAAe,MACAoC,EAAAD,EAAAC,SACAC,EAAAF,EAAAE,QAEAD,GAAAC,IAAA3M,GACA0M,EAAA1M,IAIAuJ,EAAAqD,oBAAA,WACA,IAAUd,IAAV,CAKA,IAAAe,EAAoBnO,OAAAoO,EAAA,YAAApO,CAAW6K,GAE/BsD,EAAAlC,SAAAQ,OAAA,IACA5B,EAAAwD,aACAC,aAAAzD,EAAAwD,aAGAxD,EAAAwD,YAAAE,WAAA,WAEA,IAAAC,GAAAL,EAAAM,UAAAC,aAAA,KAEA7D,EAAAtD,MAAAiH,yBAAAtG,KAAAyG,IAAA9D,EAAAtD,MAAAiH,wBAAA,GAIA3D,EAAAc,SAAA,CACA6C,6BAMA3D,EAAAtD,MAAA,CACAqH,eAAA,EACAJ,oBAAA,GAEA3D,EAAAqD,oBAAgCW,IAAQhE,EAAAqD,oBAAA,KACxCrD,EAuGA,OAzJEiE,IAASnB,EAAAD,GAqDXC,EAAAb,UAAAiC,kBAAA,WACA7O,KAAAgO,sBAESd,KACTlN,KAAAyL,SAAA,CACAiD,eAAA,KAKAjB,EAAAb,UAAAkC,mBAAA,WACA9O,KAAAgO,uBAGAP,EAAAb,UAAAmC,qBAAA,WACA/O,KAAAmO,aACAC,aAAApO,KAAAmO,aAGAnO,KAAAgO,qBAAAhO,KAAAgO,oBAAAgB,QACAhP,KAAAgO,oBAAAgB,UAIAvB,EAAAb,UAAAqC,OAAA,WACA,IAAAC,EACAC,EAAAnP,KAEAoP,EAAApP,KAAA0L,MACA2D,EAAAD,EAAAC,UACAC,EAAAF,EAAA9B,MACAA,OAAA9B,IAAA8D,EAAA,GAA+CA,EAC/CC,EAAAH,EAAAG,UACAxD,EAAAqD,EAAArD,SACAyD,EAAAJ,EAAAI,UACAC,EAAAL,EAAAK,eACAC,EAAAN,EAAAM,WACAzJ,EAAAmJ,EAAAnJ,OACA0J,EAAAP,EAAAO,KACA5B,EAAAqB,EAAArB,QACA6B,EAAAR,EAAAQ,YACAC,EAAAT,EAAAS,QACAC,EAAAV,EAAAU,MACAhC,EAAAsB,EAAAtB,SACAiC,EAAoBC,IAAwBZ,EAAA,6JAE5Ca,EAAAjQ,KAAAqH,MACAiH,EAAA2B,EAAA3B,oBACAI,EAAAuB,EAAAvB,cACAwB,EAA2BC,EAAAvP,EAAKwP,SAAAC,QAAAtE,GAAAuE,OAAA,SAAAC,GAChC,QAAAA,IAEAC,EAAAN,EAAA3D,OAAA,EACAkE,EAAAb,EAAA,WAAAH,EACAiB,EAAsBC,IAAUtB,IAAA,IAAAG,EAAAD,IAAAL,EAAA,IAAqEG,EAAA,IAAAM,KAAAT,EAAAG,EAAA,UAAAoB,GAAA,eAAAjB,EAAAN,EAAAG,EAAA,UAAAO,EAAAV,EAAAG,EAAA,wBAAAX,EAAAQ,IACrG,OAAWiB,EAAAvP,EAAKgQ,cAAA,MAAsBC,IAAQ,CAC9CtB,UAAAmB,EACApD,SACKyC,GAAce,EAAA,SAAQnI,IAAAuH,EAAA,SAAAa,EAAAC,GAC3B,IAAAD,EACA,YAGA,IAAAE,EAAApB,EAAAmB,EAEAE,EAAuBL,IAAQ,CAC/BI,WAAA,IAAAA,EAAA,GACAE,UAAAF,EACA5B,YACAK,aACA0B,aAAA9D,EACAsC,cACAE,QACAlC,YAAAE,GAAAqB,EAAAvB,aACOmD,EAAArF,OAsBP,OApBAgD,GAAA,aAAAc,GAAAwB,IAAAR,IACAU,EAAAG,UAAA,IAAAb,EAAA,IACAU,EAAAI,mBAAAtJ,KAAAuJ,MAAAjD,EAAAkC,EAAA,IAIA,UAAAvK,GAAA+K,IAAAjD,EAAA,IACAmD,EAAA3B,UAAAF,EAAA,eAGA0B,EAAArF,MAAAzF,SAEAiL,EAAAjL,OADAgL,IAAAlD,EACA9H,EACSgL,EAAAlD,EACT,SAEA,QAIajO,OAAAgR,EAAA,aAAAhR,CAAYiR,EAAAG,OAIzBzD,EA1JS,CA2JPqD,EAAA,WAEFvD,EAAKiE,UAAA,CACLnC,UAAaoC,EAAA7Q,EAAS8Q,OACtBnC,UAAakC,EAAA7Q,EAAS8Q,OACtBhC,WAAc+B,EAAA7Q,EAAS8Q,OACvBlC,UAAaiC,EAAA7Q,EAAS8Q,OACtBjC,eAAkBgC,EAAA7Q,EAAS8Q,OAC3B3F,SAAY0F,EAAA7Q,EAAS+Q,IACrB1L,OAAUwL,EAAA7Q,EAAS8Q,OACnB/B,KAAQ8B,EAAA7Q,EAAS8Q,OACjB9B,YAAe6B,EAAA7Q,EAASgR,UAAA,CAAYH,EAAA7Q,EAASiR,KAAOJ,EAAA7Q,EAASkR,OAC7DxE,MAASmE,EAAA7Q,EAASmR,OAClBlC,QAAW4B,EAAA7Q,EAASoR,OACpBjE,QAAW0D,EAAA7Q,EAASoR,OACpBlC,MAAS2B,EAAA7Q,EAASqR,MAAA,CAClBC,OAAYT,EAAA7Q,EAASuR,KACrB3J,MAAWiJ,EAAA7Q,EAASuR,OAEpBrE,SAAY2D,EAAA7Q,EAASkR,MAErBvE,EAAK6E,aAAA,CACL/C,UAAA,WACAK,WAAA,KACAF,UAAA,aACAC,eAAA,aACAI,QAAA,EACA9B,QAAA,EACA9H,OAAA,UACA0J,KAAA,GACAC,aAAA,GAEe,IAAAyC,EAAA,EChMf,SAAAC,EAAAC,GACA,wBAAAA,EAGA,IAAIC,EAAI,SAAAC,GAGR,SAAAC,IACA,IAAAC,EAAAhI,EAAAiI,EAEIlF,IAAe1N,KAAA0S,GAEnB,QAAAG,EAAAzS,UAAAmM,OAAAuG,EAAA3G,MAAA0G,GAAAE,EAAA,EAAmEA,EAAAF,EAAaE,IAChFD,EAAAC,GAAA3S,UAAA2S,GAGA,OAAAJ,EAAAhI,EAAoCgD,IAA0B3N,KAAAyS,EAAA7H,KAAAzK,MAAAsS,EAAA,CAAAzS,MAAAmC,OAAA2Q,KAAAE,EAAApI,KAAAD,GAA9DiI,EAA8DD,EAA0HhF,IAA0BhD,EAAAiI,GA6HlN,OAxIEhE,IAAS8D,EAAAD,GAcXC,EAAA9F,UAAAqG,eAAA,WACA,IAAA/D,EAEAE,EAAApP,KAAA0L,MACA2D,EAAAD,EAAAC,UACAO,EAAAR,EAAAQ,YACAqB,EAAA7B,EAAA6B,WACAhL,EAAAmJ,EAAAnJ,OACAU,EAAAyI,EAAAzI,MACAuM,EAAA9D,EAAA8D,YACAC,EAAA/D,EAAA+D,KACAzD,EAAAN,EAAAM,WACAI,EAAAV,EAAAU,MAEAsD,EAAwBzC,IAAUtB,EAAA,QAAAK,EAAA,SAAAR,EAAA,IAA4DQ,EAAA,QAAAyD,MAAAb,EAAAa,GAAAjE,EAAAQ,EAAA,eAAAyD,GAAA,WAAAlN,GAAA6J,MAAAoC,OAAAhD,EAAAQ,EAAA,eAAAyD,GAAA,UAAAlN,GAAA6J,MAAAtH,MAAA0G,IAC9FmE,EAAkBlD,EAAAvP,EAAKgQ,cAAA,QACvBrB,UAAAF,EAAA,cAwCA,OArCAO,EACA,oBAAAA,EACmBO,EAAAvP,EAAKgQ,cAAA,QACxBrB,UAAAF,EAAA,SACSO,EAAAyD,EAAA,CACTrC,MAAAC,EAAA,EACAhL,SACAU,QACAuM,iBAGmB/C,EAAAvP,EAAKgQ,cAAA,QACxBrB,UAAAF,EAAA,SACSgE,GAEJF,IAAAb,EAAAa,GACYhD,EAAAvP,EAAKgQ,cAAA,QACtBrB,UAAAF,EAAA,SACO8D,GACFrD,KAAAoC,QAAA,WAAAjM,EACYkK,EAAAvP,EAAKgQ,cAAA,QACtBrB,UAAAF,EAAA,SACOS,EAAAoC,QACFpC,KAAAtH,OAAA,UAAAvC,EACYkK,EAAAvP,EAAKgQ,cAAA,QACtBrB,UAAAF,EAAA,SACOS,EAAAtH,OACF2K,GAAA,WAAAlN,GAAA,UAAAA,EACYkK,EAAAvP,EAAKgQ,cAAA,QACtBrB,UAAA6D,IAGiBjD,EAAAvP,EAAKgQ,cAAA,QACtBrB,UAAAF,EAAA,SACO4B,IAMPyB,EAAA9F,UAAAqC,OAAA,WACA,IAAAqE,EAEAC,EAAAvT,KAAA0L,MACA6D,EAAAgE,EAAAhE,UACAF,EAAAkE,EAAAlE,UACA/B,EAAAiG,EAAAjG,MACA+D,EAAAkC,EAAAlC,UACAmC,EAAAD,EAAAtN,OACAA,OAAAuF,IAAAgI,EAAA,OAAAA,EAEAL,GADAI,EAAA7D,WACA6D,EAAAJ,MAEA7B,GADAiC,EAAAnC,aACAmC,EAAAjC,mBAEA4B,GADAK,EAAAtC,WACAsC,EAAAL,aACAvM,EAAA4M,EAAA5M,MAEA8M,GADAF,EAAA3D,YACA2D,EAAAE,aAGA7F,GAFA2F,EAAAzD,MACAyD,EAAApC,UACAoC,EAAA3F,aACA8F,EAAAH,EAAAG,QACA3D,EAAoBC,IAAwBuD,EAAA,0NAE5C7C,EAAsBC,IAAUtB,EAAA,QAAAA,EAAA,SAAApJ,EAAAsJ,IAAA+D,EAAA,IAAkFjE,EAAA,gBAAA8D,EAAAG,IAElHK,EAAwB9C,IAAQ,GAAGvD,GAEnC+D,IACAsC,EAAAC,MAAAvC,GAGAC,IACAqC,EAAAE,YAAAvC,GAGA,IAAAwC,EAAA,GAQA,OANAlG,IACAkG,EAAArL,KAAA,SACAqL,EAAAC,SAAA,EACAD,EAAAJ,QAAA1T,KAAA0T,SAGWvD,EAAAvP,EAAKgQ,cAAA,MAAsBC,IAAQ,CAC9C6C,WACKI,EAAA/D,EAAA,CACLR,UAAAmB,EACApD,MAAAqG,IACQxD,EAAAvP,EAAKgQ,cAAA,OACbrB,UAAAF,EAAA,cACKoE,GAAgBtD,EAAAvP,EAAKgQ,cAAA,OAC1BrB,UAAAF,EAAA,cACKrP,KAAAiT,kBAA0B9C,EAAAvP,EAAKgQ,cAAA,OACpCrB,UAAAF,EAAA,iBACOc,EAAAvP,EAAKgQ,cAAA,OACZrB,UAAAF,EAAA,eACK1I,GAAAuM,GAAyB/C,EAAAvP,EAAKgQ,cAAA,OACnCrB,UAAAF,EAAA,qBACK6D,MAGLR,EAzIQ,CA0INvC,EAAAvP,EAAKoT,WAEPxB,EAAIhB,UAAA,CACJjC,UAAakC,EAAA7Q,EAAS8Q,OACtBrC,UAAaoC,EAAA7Q,EAAS8Q,OACtBpE,MAASmE,EAAA7Q,EAASmR,OAClBX,aAAgBK,EAAA7Q,EAASmR,OACzBV,UAAaI,EAAA7Q,EAASgR,UAAA,CAAYH,EAAA7Q,EAASoR,OAASP,EAAA7Q,EAAS8Q,SAC7DzL,OAAUwL,EAAA7Q,EAAS8Q,OACnBhC,WAAc+B,EAAA7Q,EAAS8Q,OACvByB,KAAQ1B,EAAA7Q,EAASuR,KACjBb,kBAAqBG,EAAA7Q,EAASgR,UAAA,CAAYH,EAAA7Q,EAASoR,OAASP,EAAA7Q,EAAS8Q,SACrET,WAAcQ,EAAA7Q,EAAS8Q,OACvBP,UAAaM,EAAA7Q,EAASoR,OACtBkB,YAAezB,EAAA7Q,EAAS+Q,IACxBhL,MAAS8K,EAAA7Q,EAAS+Q,IAClB/B,YAAe6B,EAAA7Q,EAASgR,UAAA,CAAYH,EAAA7Q,EAASiR,KAAOJ,EAAA7Q,EAASkR,OAC7D2B,YAAehC,EAAA7Q,EAAS+Q,IACxB7B,MAAS2B,EAAA7Q,EAASqR,MAAA,CAClBC,OAAYT,EAAA7Q,EAASuR,KACrB3J,MAAWiJ,EAAA7Q,EAASuR,OAEpBuB,QAAWjC,EAAA7Q,EAASkR,KACpBlE,YAAe6D,EAAA7Q,EAASkR,MAGxB,IAAAkB,EAAA,WACA,IAAA7D,EAAAnP,KAEAA,KAAA0T,QAAA,WACA,IAAAO,EAAA9E,EAAAzD,MACAgI,EAAAO,EAAAP,QACA9F,EAAAqG,EAAArG,YACAuD,EAAA8C,EAAA9C,UAEAuC,GACAA,EAAAvT,WAAAqL,EAAApL,WAGAwN,EAAAuD,KAIe+C,EAAA,EChMf7B,EAAKK,KAAQwB,EAEE,IAAAC,EAAA,SCJf,SAAAC,EAAAC,GAWA,OATAD,EADA,oBAAA1H,QAAA,kBAAAA,OAAAC,SACA,SAAA0H,GACA,cAAAA,GAGA,SAAAA,GACA,OAAAA,GAAA,oBAAA3H,QAAA2H,EAAAC,cAAA5H,QAAA2H,IAAA3H,OAAAE,UAAA,gBAAAyH,IAIAA,GAGA,SAAAE,IAeA,OAdAA,EAAAzU,OAAA0U,QAAA,SAAAC,GACA,QAAApI,EAAA,EAAmBA,EAAAjM,UAAAmM,OAAsBF,IAAA,CACzC,IAAAqI,EAAAtU,UAAAiM,GAEA,QAAA9L,KAAAmU,EACA5U,OAAA8M,UAAA+H,eAAA/J,KAAA8J,EAAAnU,KACAkU,EAAAlU,GAAAmU,EAAAnU,IAKA,OAAAkU,IAGAtU,MAAAH,KAAAI,WASA,SAAAwU,EAAAH,EAAA/I,GACA,QAAAW,EAAA,EAAiBA,EAAAX,EAAAa,OAAkBF,IAAA,CACnC,IAAAwI,EAAAnJ,EAAAW,GACAwI,EAAAC,WAAAD,EAAAC,aAAA,EACAD,EAAAE,cAAA,EACA,UAAAF,MAAAG,UAAA,GACAlV,OAAAmV,eAAAR,EAAAI,EAAAtU,IAAAsU,IAUA,SAAAK,EAAAC,EAAAvK,GACA,OAAAA,GAAA,WAAAwJ,EAAAxJ,IAAA,oBAAAA,EAOA,SAAAuK,GACA,YAAAA,EACA,UAAAC,eAAA,6DAGA,OAAAD,EARAE,CAAAF,GAHAvK,EAcA,SAAA0K,EAAAC,GAIA,OAHAD,EAAAxV,OAAA0V,eAAA1V,OAAA4H,eAAA,SAAA6N,GACA,OAAAA,EAAAE,WAAA3V,OAAA4H,eAAA6N,KAEAA,GAkBA,SAAAG,EAAAH,EAAAI,GAMA,OALAD,EAAA5V,OAAA0V,gBAAA,SAAAD,EAAAI,GAEA,OADAJ,EAAAE,UAAAE,EACAJ,IAGAA,EAAAI,GASA,IAAIC,EAEJ,SAAAnD,GAGA,SAAAhF,IACA,IAAA9C,EA4BA,OA7GA,SAAAkL,EAAAC,GACA,KAAAD,aAAAC,GACA,UAAA9I,UAAA,qCAiFA+I,CAAA/V,KAAAyN,IAEA9C,EAAAuK,EAAAlV,KAAAsV,EAAA7H,GAAAtN,MAAAH,KAAAI,aAEA4V,YAAA,SAAAC,GACA,IAAAC,EAAAD,EAAAC,aACA7G,EAAA6G,EAAA,QAAAvL,EAAAe,MAAA2D,WACAK,EAAAwG,EAAA,GAAAvL,EAAAe,MAAAgE,YACAI,EAAA,CACAoC,OAAgBpB,EAAA,cAAoBqF,EAAA,EAAI,CACxCtP,KAAA,QACA0I,UAAA,GAAApN,OAAAkN,EAAA,kBAEA7G,MAAesI,EAAA,cAAoBqF,EAAA,EAAI,CACvCtP,KAAA,QACA0I,UAAA,GAAApN,OAAAkN,EAAA,kBAGA,OAAayB,EAAA,cAAoBqD,EAAOI,EAAA,CACxCzE,SACOnF,EAAAe,MAAA,CACP2D,YACAK,iBAIA/E,EA7FA,IAAAmL,EAAAM,EAAAC,EAuGA,OA1EA,SAAAC,EAAAC,GACA,uBAAAA,GAAA,OAAAA,EACA,UAAAvJ,UAAA,sDAGAsJ,EAAA1J,UAAA9M,OAAAwF,OAAAiR,KAAA3J,UAAA,CACA0H,YAAA,CACA9T,MAAA8V,EACAtB,UAAA,EACAD,cAAA,KAGAwB,GAAAb,EAAAY,EAAAC,GAqBAC,CAAA/I,EA0CEqD,EAAA,cAxGFgF,EAgGArI,GAhGA2I,EAgGA,EACA7V,IAAA,SACAC,MAAA,WACA,OAAasQ,EAAA,cAAoB2F,EAAA,EAAc,KAAAzW,KAAAgW,kBAlG/CpB,EAAAkB,EAAAlJ,UAAAwJ,GACAC,GAAAzB,EAAAkB,EAAAO,GAqGA5I,EA1CA,GA8CAmI,EAAKlD,KAAQyB,EAAOzB,KACpBkD,EAAKxD,aAAA,CACLrE,QAAA,GAEA6H,EAAKpE,UAAA,CACLnC,UAAaqH,EAAA,OACbhH,WAAcgH,EAAA,OACd3I,QAAW2I,EAAA,2HC5JLC,GAAUC,EAAA,EAAKD,QA0DNE,GAlD+B,SAACnL,GAC7C,IAAMoL,EAAe3M,YAAcvK,KADoBmX,EAGzBC,mBAAS,IAHgBC,EAAAnX,OAAAoX,EAAA,EAAApX,CAAAiX,EAAA,GAGhD9U,EAHgDgV,EAAA,GAGvCE,EAHuCF,EAAA,GAAAG,EAIjCJ,mBAAS,IAJwBK,EAAAvX,OAAAoX,EAAA,EAAApX,CAAAsX,EAAA,GAIhDtQ,EAJgDuQ,EAAA,GAI3CC,EAJ2CD,EAAA,GAAAE,EAK/BP,mBAAS,aALsBQ,EAAA1X,OAAAoX,EAAA,EAAApX,CAAAyX,EAAA,GAKhD1Q,EALgD2Q,EAAA,GAK1CC,EAL0CD,EAAA,GAOvD,OACErH,EAAAvP,EAAAgQ,cAAA8G,EAAA,GACE/Q,MAAM,2BACNgR,QAASjM,EAAMkM,KACfC,KAAI/X,OAAA+H,GAAA,EAAA/H,CAAAgI,GAAAlH,EAAAC,KAAE,SAAAC,IAAA,IAAAE,EAAA,OAAA8G,GAAAlH,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACS,cAATyF,EADA,CAAA3F,EAAAE,KAAA,QAEFsK,EAAMoM,MAAM,CAAEjR,KAAM,YAAaC,QAF/B5F,EAAAE,KAAA,mBAGgB,eAATyF,EAHP,CAAA3F,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKmB0V,EAAaiB,SAAS9V,GALzC,OAKMjB,EALNE,EAAAS,KAMA+J,EAAMoM,MAAM,CACVjR,KAAM,aACN5E,QAASA,EACT0E,MAAO3F,EAAK0F,MAAMA,MAAMC,MACxBL,QAAStF,EAAK0F,MAAMD,QAAQuR,KAAK,KAAO,IAAMhX,EAAK0F,MAAMA,MAAMC,MAAQ,IAAM3F,EAAK0F,MAAMU,aAV1FlG,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAA6E,GAAA7E,EAAA,SAaA+W,GAAA,EAAQzP,MAAM,4BAbd,QAgBJkD,EAAMwM,QAhBF,yBAAAhX,EAAAW,SAAAf,EAAA,kBAkBNqX,SAAU,WACRzM,EAAMwM,UAER/H,EAAAvP,EAAAgQ,cAAAgG,EAAA,GAAMwB,iBAAiB,YAAYtK,SAAU,SAACuK,GAC5CZ,EAAQY,KAERlI,EAAAvP,EAAAgQ,cAAC+F,GAAD,CAAS2B,IAAI,iCAAQ/X,IAAI,aACvB4P,EAAAvP,EAAAgQ,cAAA2H,EAAA,GAAOC,YAAY,kBAAQhY,MAAOsG,EAAKgH,SAAU,SAACjC,GAChDyL,EAAOzL,EAAE4I,OAAOjU,WAGpB2P,EAAAvP,EAAAgQ,cAAC+F,GAAD,CAAS2B,IAAI,iCAAQ/X,IAAI,cACvB4P,EAAAvP,EAAAgQ,cAAA2H,EAAA,GAAOC,YAAY,iCAAQhY,MAAOyB,EAAS6L,SAAU,SAACjC,GACpDsL,EAAWtL,EAAE4I,OAAOjU,cC5C1BkS,GAAOkD,EAAMlD,KAEb+F,QADEC,UAAOC,QACKC,EAAA,EAAOC,OACnBC,gBACQlC,EAAA,EAAKD,QA+WNoC,IAxWgC,SAAA9C,GAA8B,IAA3BlV,EAA2BkV,EAA3BlV,WAAYiY,EAAe/C,EAAf+C,SAAejC,GACtD5M,YAAcvK,KAEToX,mBAASjW,EAAaA,EAAW4F,MAAQ,KAHQsQ,EAAAnX,OAAAoX,EAAA,EAAApX,CAAAiX,EAAA,GAGpEpQ,EAHoEsQ,EAAA,GAG7DgC,EAH6DhC,EAAA,GAAAG,EAI3CJ,mBAASjW,EAAaA,EAAWgG,SAAW,IAJDsQ,EAAAvX,OAAAoX,EAAA,EAAApX,CAAAsX,EAAA,GAIpErQ,EAJoEsQ,EAAA,GAI1D6B,EAJ0D7B,EAAA,GAAAE,EAK7BP,mBAASjW,EAAaA,EAAWiG,gBAAkB,IALtBwQ,EAAA1X,OAAAoX,EAAA,EAAApX,CAAAyX,EAAA,GAKpEvQ,EALoEwQ,EAAA,GAKnD2B,EALmD3B,EAAA,GAAA4B,EAMnCpC,mBAASjW,EAAaA,EAAWkG,aAAe,IANboS,EAAAvZ,OAAAoX,EAAA,EAAApX,CAAAsZ,EAAA,GAMpEnS,EANoEoS,EAAA,GAMtDC,EANsDD,EAAA,GAAAE,EAO7CvC,mBAASjW,EAAaA,EAAWuF,QAAU,IAPEkT,EAAA1Z,OAAAoX,EAAA,EAAApX,CAAAyZ,EAAA,GAOpEjT,EAPoEkT,EAAA,GAO3DC,EAP2DD,EAAA,GAAAE,EAQvC1C,mBAASjW,EAAaA,EAAWmG,WAAa,IARPyS,EAAA7Z,OAAAoX,EAAA,EAAApX,CAAA4Z,EAAA,GAQpExS,EARoEyS,EAAA,GAQxDC,EARwDD,EAAA,GAAAE,EAS7B7C,mBAASjW,EAAaA,EAAWoG,gBAAkB,IATtB2S,EAAAha,OAAAoX,EAAA,EAAApX,CAAA+Z,EAAA,GASpE1S,EAToE2S,EAAA,GASnDC,EATmDD,EAAA,GAAAE,EAUnDhD,mBAASjW,EAAaA,EAAW6F,KAAO,IAVWqT,EAAAna,OAAAoX,EAAA,EAAApX,CAAAka,EAAA,GAUpEpT,EAVoEqT,EAAA,GAU9DC,EAV8DD,EAAA,GAAAE,EAYrCnD,oBAAS,GAZ4BoD,EAAAta,OAAAoX,EAAA,EAAApX,CAAAqa,EAAA,GAYpEE,EAZoED,EAAA,GAYvDE,EAZuDF,EAAA,GAAAG,EAanDvD,mBAAS,GAb0CwD,EAAA1a,OAAAoX,EAAA,EAAApX,CAAAya,EAAA,GAapEE,GAboED,EAAA,GAa9DE,GAb8DF,EAAA,GAe3E,OACErK,EAAAvP,EAAAgQ,cAAA,WACET,EAAAvP,EAAAgQ,cAAC+J,GAAD,CACE/C,KAAMyC,EACNnC,MAAO,kBAAMoC,GAAe,IAC5BxC,MAAO,SAAC8C,GAAD,OAAYV,EAAO,GAAA/X,OAAA8J,EAAKrF,GAAL,CAAWgU,QAEvCzK,EAAAvP,EAAAgQ,cAACiK,EAAA,EAAD,KACE1K,EAAAvP,EAAAgQ,cAAAgF,EAAA,CAAO7H,QAAS0M,GAAMnN,MAAO,CAAEwN,QAAS,SACtC3K,EAAAvP,EAAAgQ,cAACmK,GAAD,CAAMpU,MAAM,iBACZwJ,EAAAvP,EAAAgQ,cAACmK,GAAD,CAAMpU,MAAM,iBACZwJ,EAAAvP,EAAAgQ,cAACmK,GAAD,CAAMpU,MAAM,kBAEL,GAAR8T,GACCtK,EAAAvP,EAAAgQ,cAAA,WACET,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,OAAQC,UAAW,SAC5D/K,EAAAvP,EAAAgQ,cAACkI,GAAD,CAAUxL,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQJ,UAAW,SAAUpH,MAAO,OACrF4E,YAAY,eACZhY,MAAOmG,EACPmH,SAAU,SAACjC,GACToN,EAASpN,EAAE4I,OAAOjU,QAEpB6a,UAAQ,KAEZlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAEgO,WAAY,MAAOzH,YAAa,QAC5C1D,EAAAvP,EAAAgQ,cAAA2K,EAAA,OACEpL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,GACTtL,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CACR6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZC,QAAS,iBAJX,kBAOFxL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,IACTtL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQQ,WAAY,OAAQD,QAAS,gBAC9EnD,YAAY,2BACZhY,MAAOwG,EACP8G,SAAU,SAACjC,GACTsN,EAAmBtN,EAAE4I,OAAOjU,QAE9B6a,UAAQ,QAKlBlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAEgO,WAAY,MAAOzH,YAAa,QAC5C1D,EAAAvP,EAAAgQ,cAAA2K,EAAA,OACEpL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,GACTtL,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CACR6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZC,QAAS,WAJX,uBAOFxL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,IACTtL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZE,WAAY,OACZD,QAAS,UAEXnb,MAAOuG,EACP+G,SAAU,SAACjC,GACTqN,EAAYrN,EAAE4I,OAAOjU,QAEvBgY,YAAY,iCACZ6C,UAAQ,QAMlBlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXpH,MAAO,MACPgI,WAAY,QAEdpD,YAAY,eACZhY,MAAOyG,EACP6G,SAAU,SAACjC,GACTyN,EAAgBzN,EAAE4I,OAAOjU,QAE3B6a,UAAQ,KAGZlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQxH,MAAO,MAAOgI,WAAY,QAC3EpD,YAAY,eACZhY,MAAO8F,EACPwH,SAAU,SAACjC,GACT4N,EAAW5N,EAAE4I,OAAOjU,QAEtB6a,UAAQ,KAGZlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,sBACAvL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXpH,MAAO,MACPgI,WAAY,QAEdpD,YAAY,qBACZhY,MAAO0G,EACP4G,SAAU,SAACjC,GACT+N,EAAc/N,EAAE4I,OAAOjU,QAEzB6a,UAAQ,KAGZlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAACkI,GAAD,CACExL,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXpH,MAAO,MACPgI,WAAY,QAEdpb,MAAO2G,EACPqR,YAAY,eACZ1K,SAAU,SAACjC,GACTkO,EAAmBlO,EAAE4I,OAAOjU,QAE9B6a,UAAQ,KAGZlL,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,WACET,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,OAAQC,QAAS,WAAjF,4BACAxL,EAAAvP,EAAAgQ,cAAC6H,GAAD,CAAanL,MAAO,CAAEqO,QAAS,SAAUV,OAAQ,SAC/C9K,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQlF,QAAS,WACf,IAAImI,EAAuBjV,EAC3BiV,EAAUA,EAAQC,MAAM,EAAGD,EAAQtP,OAAS,GAC5C2N,EAAQ2B,KAER1L,EAAAvP,EAAAgQ,cAAAuF,EAAA,GAAMtP,KAAK,WAEbsJ,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQlF,QAAS,WACf4G,GAAe,KAEfnK,EAAAvP,EAAAgQ,cAAAuF,EAAA,GAAMtP,KAAK,YAIjBsJ,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACLyO,aAAc,MACdC,gBAAiB,UACjBC,UAAW,OACXnB,QAAS,WACTM,SAAU,OACVQ,WAAY,MACZM,OAAQ,oBACRjB,OAAQ,OACRK,WAAY,MACZzH,YAAa,QAEdjN,EAAK+B,IAAK,SAACwT,EAAKnL,GAAN,OAAiBb,EAAAvP,EAAAgQ,cAAA,kBAAKI,EAAQ,EAAb,SACb,cAAbmL,EAAItV,KAAuBsV,EAAIrV,IAAMqV,EAAI7V,aAI/C6J,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQ/R,KAAK,UAAU8I,KAAM,QAAS+D,QAAS,WAC7CgH,GAAQ,KADV,qBAIEvK,EAAAvP,EAAAgQ,cAAAuF,EAAA,GAAMtP,KAAK,aAGP,KAEH,GAAR4T,GAAatK,EAAAvP,EAAAgQ,cAAA,WACZT,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQJ,UAAW,WAAarU,GAC3EwJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE2N,OAAQ,SACpB9K,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAEgO,WAAY,MAAOzH,YAAa,QAC5C1D,EAAAvP,EAAAgQ,cAAA2K,EAAA,OACEpL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,GACTtL,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CACR6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZC,QAAS,iBAJX,kBAOFxL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,IACTtL,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVQ,WAAY,OACZD,QAAS,iBACP3U,OAKdmJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE2N,OAAQ,SACpB9K,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAEgO,WAAY,MAAOzH,YAAa,QAC5C1D,EAAAvP,EAAAgQ,cAAA2K,EAAA,OACEpL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,GACTtL,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CACR6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZC,QAAS,WAJX,uBAOFxL,EAAAvP,EAAAgQ,cAAA4K,EAAA,GAAKC,KAAM,IACTtL,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVM,WAAY,OACZE,WAAY,OACZD,QAAS,WAEX5U,OAMVoJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,OAAQK,WAAY,MAAOzH,YAAa,QACjF1D,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXY,WAAY,SACV3U,IAGRkJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,OAAQK,WAAY,MAAOzH,YAAa,QACjF1D,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAACwL,EAAAxb,EAAD,CACE0M,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVQ,WAAY,SACVtV,IAGR6J,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,OAAQK,WAAY,MAAOzH,YAAa,QACjF1D,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,sBACAvL,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXY,WAAY,SACV1U,IAGRiJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,OAAQK,WAAY,MAAOzH,YAAa,QACjF1D,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,iBACAvL,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CACL6N,WAAY,SACZC,SAAU,OACVJ,UAAW,SACXY,WAAY,SACVzU,IAGRgJ,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQM,WAAY,SAAhE,4BACC9U,EAAK+B,IAAK,SAACwT,EAAKnL,GAAN,OAAiBb,EAAAvP,EAAAgQ,cAAA,KAAGtD,MAAO,CACpC6N,WAAY,SACZC,SAAU,OACVQ,WAAY,SAHc,SAIvB5K,EAAQ,EAJe,SAKX,cAAbmL,EAAItV,KAAuBsV,EAAIrV,IAAMqV,EAAI7V,YAG/C6J,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUC,OAAQ,SACzC9K,EAAAvP,EAAAgQ,cAAC6H,GAAD,KACEtI,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQ/R,KAAK,UAAU8I,KAAM,QAAS+D,QAAS,WAC7CgH,GAAQ,KAERvK,EAAAvP,EAAAgQ,cAAAuF,EAAA,GAAMtP,KAAK,SAHb,sBAMAsJ,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQ/R,KAAK,UAAU8I,KAAM,QAAS+D,QAAS,WAC7CgH,GAAQ,KADV,qBAIEvK,EAAAvP,EAAAgQ,cAAAuF,EAAA,GAAMtP,KAAK,cAIT,KAED,GAAR4T,GACCtK,EAAAvP,EAAAgQ,cAAA,OAAKtD,MAAO,CAAE0N,UAAW,SAAUqB,cAAe,SAChDlM,EAAAvP,EAAAgQ,cAAA,OACEtD,MAAO,CAAE6N,WAAY,SAAUC,SAAU,OAAQJ,UAAW,SAAUC,OAAQ,SADhF,kCAIA9K,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQ/R,KAAK,UAAU8I,KAAM,QAASrC,MAAO,CAAE2N,OAAQ,QAAUvH,QAAS,WACxEgH,GAAQ,KADV,gBAMAvK,EAAAvP,EAAAgQ,cAAAgI,EAAA,GAAQ/R,KAAK,UAAU8I,KAAM,QAASrC,MAAO,CAAE2N,OAAQ,QAAUvH,QAAS,kBAAMsF,EAAS,CACvFrS,QACAK,kBACAD,WACAE,eACAX,UACAY,aACAC,kBACAP,WARF,iBAaA,yIC5VG0V,UAnBqD,SAAArG,GAAsB,IAAnBhU,EAAmBgU,EAAnBhU,QAC/D6U,EAAe3M,YAAcvK,KACnC,OACE2c,EAAA3b,EAAAgQ,cAAC4L,EAAA,EAAD,CAAO5R,KAAM,kBAAMkM,EAAaiB,SAAS9V,KACtC,SAACjB,EAAMuK,GACN,OAAIA,EACKgR,EAAA3b,EAAAgQ,cAAC6L,EAAA,EAAD,MAGFF,EAAA3b,EAAAgQ,cAAC8L,EAAA,EAAD,CAAQ3b,WAAYC,EAAK0F,MAAMA,MAAOsS,SAAU,SAAC2D,GACtD7F,EAAa8F,YAAY3a,EAAS0a,GAAOhR,KAAK,WAC5CkR,EAAA,EAAQC,QAAQ,6BAChBC,YAAQ,WAAA5a,OAAYF","file":"static/js/11.49055cf8.chunk.js","sourcesContent":["import { HttpService, HttpMethod } from \"../HttpService\";\r\nimport { PaperDraft, PaperInfo, PaperComment, PaperRef } from \"../../models/paper\";\r\n\r\nexport interface PaperIdResponse {\r\n  paperId: string;\r\n}\r\n\r\nexport interface PaperListResponse {\r\n  paperItems: PaperItem[];\r\n}\r\n\r\nexport interface PaperItem {\r\n  paperId: string;\r\n  name: string;\r\n}\r\n\r\nexport class PaperService extends HttpService {\r\n  async uploadPaper(paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    const data = await this.fetch({\r\n      path: \"/papers\",\r\n      method: HttpMethod.POST,\r\n      body: { paperDraft },\r\n    });\r\n\r\n    return data as PaperIdResponse;\r\n  }\r\n\r\n  async modifyPaper(paperId: string, paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}`,\r\n      method: HttpMethod.PUT,\r\n      body: { paperDraft },\r\n    });\r\n\r\n    return data as PaperIdResponse;\r\n\r\n  }\r\n\r\n  async getPapers(): Promise<{ papers: PaperInfo[] }> {\r\n    const data = await this.fetch({\r\n      path: `/papers`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as { papers: PaperInfo[] };\r\n\r\n  }\r\n\r\n  async getPaper(paperId: string): Promise<{ paper: PaperInfo }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as { paper: PaperInfo };\r\n  }\r\n\r\n  async getPaperScore(paperId: string): Promise<{ score: number; myScore: number }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}/score`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async getPaperComments(paperId: string): Promise<{ comments: PaperComment[] }> {\r\n    const data = await this.fetch({\r\n      path: `/papers/${paperId}/comment`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n\r\n  async scorePaper(paperId: string, score: number) {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/score`,\r\n      body: { score },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getPaperStar(paperId: string): Promise<{ stars: number; stared: boolean }> {\r\n    const data = this.fetch({\r\n      path: `/papers/${paperId}/star`,\r\n      method: HttpMethod.GET\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async starPaper(paperId: string, operation: \"star\" | \"unstar\") {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/star`,\r\n      body: { star: operation == \"star\" },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async commentPaper(paperId: string, commentContent: string) {\r\n    await this.fetch({\r\n      path: `/papers/${paperId}/comment`,\r\n      body: { comment: commentContent },\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getPaperRefGraph(paperId: string): Promise<{ refs: PaperRef }> {\r\n    const data = this.fetch<any>({\r\n      path: `/papers/${paperId}/refs`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  }\r\n\r\n\r\n\r\n}\r\n","import axios, { AxiosInstance } from \"axios\";\r\n\r\nexport interface FetchInfo {\r\n  path?: string;\r\n  method?: HttpMethod;\r\n  params?: any;\r\n  body?: any;\r\n  headers?: { [s: string]: string };\r\n}\r\n\r\nexport enum HttpMethod {\r\n  GET = \"GET\",\r\n  POST = \"POST\",\r\n  DELETE = \"DELETE\",\r\n  PATCH = \"PATCH\",\r\n  PUT = \"PUT\",\r\n}\r\n\r\nexport interface HttpError {\r\n  status: number;\r\n  data?: any;\r\n}\r\n\r\n\r\nconst BASE_URL = \"http://36.103.228.127:5000\";\r\n\r\nconst axiosInstance = axios.create({ baseURL: BASE_URL, headers: { 'Content-Type': \"application/json \"} });\r\n\r\nexport class HttpService {\r\n\r\n  protected get axios() {\r\n    return axiosInstance;\r\n  }\r\n\r\n  /**\r\n   * Execute fetch.\r\n   * @param fetchInfo fetch paramters\r\n   * @returns parsed response body if the request is successful\r\n   * @throws A HttpError object if the request is not successful.\r\n   */\r\n  async fetch<T>(fetchInfo: FetchInfo): Promise<T> {\r\n    try {\r\n      const response = await axiosInstance({\r\n        method: fetchInfo.method,\r\n        url: fetchInfo.path,\r\n        params: fetchInfo.params,\r\n        data: fetchInfo.body,\r\n      });\r\n      return response.data;\r\n    } catch (e) {\r\n      if (e.response) {\r\n        // request is complete but the status code is out of 200-300\r\n        // throw it as HttpError\r\n        throw e as HttpError;\r\n      } else if (e.request) {\r\n        // request is sent but no response\r\n        // likely network error\r\n        // throw -1\r\n        throw {\r\n          status: -1,\r\n          data: null,\r\n        };\r\n      } else {\r\n        // some config problem\r\n        // throw -2\r\n        throw {\r\n          status: -2,\r\n          data: null,\r\n        };\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport interface HttpServiceType {\r\n  new(...args): HttpService;\r\n}\r\n","import { PaperService, PaperIdResponse, PaperListResponse } from \"./PaperService\";\r\nimport { PaperDraft, PaperInfo, PaperComment, PaperRef } from \"../../models/paper\";\r\nimport { HttpMethod } from \"../HttpService\";\r\nimport { sleepMs } from \"../../utils\";\r\n\r\nconst comments = [\r\n  { userId: \"2\", time: \"1232132132131\", content: \"好！\", stars: 10 },\r\n  { userId: \"3\", time: \"1232142141\", content: \"好！！！\", stars: 4 },\r\n];\r\n\r\nexport const papers: PaperInfo[] = [\r\n  {\r\n    paperId: \"1\", authors: [\"123\", \"1\"], paper: {\r\n      title: \"Bug Localization with Semantic and Structural Features using Convolutional Neural Network and Cascade Forest\",\r\n      refs: [{ type: \"published\", doi: \"10.1145/3210459.3210469\", content: \"123\" }, {\r\n        type: \"chainpaper\",\r\n        paperId: \"2\",\r\n        title: \"123\",\r\n        content: \"Poor H V. An introduction to signal detection and estimation[M]. Springer Science & Business Media, 2013.\"\r\n      }],\r\n      keywords: \"case study\",\r\n      abstractContent: \"Background: Correctly localizing buggy ﬁles for bug reports together with their semantic and structural information is a crucial task, which would essentially improve the accuracy of bug localization techniques. Aims: To empirically evaluate and demonstrate the eﬀects of both semantic and structural information in bug reports and source ﬁles on improving the performance of bug localization, we propose CNN Forest involving convolutional neural network and ensemble of random forests that have excellent performance in the tasks of semantic parsing and structural information extraction. Method: We ﬁrst employ convolutional neural network with multiple ﬁlters and an ensemble of random forests with multi-grained scanning to extract semantic and structural features from the word vectors derived from bug reports and source ﬁles. And a subsequent cascade forest (a cascade of ensembles of random forests) is used to further extract deeper features and observe the correlated relationships between bug reports and source ﬁles. CNN Forest is then empirically evaluated over 10,754 bug reports extracted from AspectJ, Eclipse UI, JDT, SWT, and Tomcat projects. Results: The experiments empirically demonstrate the signiﬁcance of including semantic and structural information in bug localization, and further show that the proposed CNN Forest achieves higher Mean Average Precision and Mean Reciprocal Rank measures than the best results of the four current state-of-the-art approaches (NPCNN, LR+WE, DNNLOC, and BugLocator). Conclusion: CNN Forest is capable of deﬁning the correlated relationships between bug reports and source ﬁles, and we empirically show that semantic and structural information in bug reports and source ﬁles are crucial in improving bug localization.\",\r\n      introduction: \"123\",\r\n      content: \"string\",\r\n      conclusion: \"1321\",\r\n      acknowledgement: \"1232132121\",\r\n    },\r\n    uploadTime: \"1231232131\", score: 10, stars: 10, comments,\r\n    state: \"open\",\r\n  }\r\n];\r\n\r\nexport class PaperServiceMock extends PaperService {\r\n  async uploadPaper(paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    return { paperId: \"123\" };\r\n  }\r\n\r\n  async modifyPaper(paperId: string, paperDraft: PaperDraft): Promise<PaperIdResponse> {\r\n    return { paperId: \"123\" };\r\n  }\r\n\r\n  async getPapers(): Promise<{ papers: PaperInfo[] }> {\r\n    return { papers };\r\n  }\r\n\r\n  async getPaper(paperId: string): Promise<{ paper: PaperInfo }> {\r\n    return { paper: papers[0] };\r\n  }\r\n\r\n  async scorePaper(paperId: string, score: number) {\r\n\r\n  }\r\n\r\n\r\n  async getPaperStar(paperId: string): Promise<{ stars: number; stared: boolean }> {\r\n    return { stars: 9, stared: Math.random() < 0.5 };\r\n  }\r\n\r\n  async getPaperScore(paperId: string): Promise<{ score: number; myScore: number }> {\r\n    return { score: 8, myScore: Math.random() < 0.5 ? 4 : -1 };\r\n  }\r\n\r\n  async getPaperComments(paperId: string): Promise<{ comments: PaperComment[] }> {\r\n    await sleepMs(1000);\r\n    return { comments };\r\n  }\r\n\r\n\r\n  async starPaper(paperId: string, operation: \"star\" | \"unstar\") {\r\n\r\n  }\r\n\r\n  async commentPaper(paperId: string, commentContent: string) {\r\n\r\n  }\r\n\r\n  async getPaperRefGraph(paperId: string): Promise<{ refs: PaperRef }> {\r\n    return {\r\n      refs:\r\n        {\r\n          type: \"published\",\r\n          doi: \"10.1145/3210459.3210469\",\r\n          content: \"123\",\r\n          refs: [        {\r\n            type: \"chainpaper\",\r\n            title: \"Environment paper\",\r\n            content: \"content 1\",\r\n            paperId: \"123\",\r\n            refs: [\r\n              {\r\n                type: \"chainpaper\",\r\n                title: \"Environment paper\",\r\n                content: \"content 1\",\r\n                paperId: \"456\",\r\n                refs: [\r\n                  {\r\n                    type: \"chainpaper\",\r\n                    title: \"Environment paper\",\r\n                    content: \"content 1\",\r\n                    paperId: \"4929\",\r\n                    refs: []\r\n                  }]\r\n              }\r\n            ]\r\n          },],\r\n        },\r\n\r\n\r\n    };\r\n  }\r\n}\r\n","\r\nimport { Response, UserService } from \"./UserService\";\r\nimport { Role, UserInfo } from \"../../models/user\";\r\nimport { papers } from \"../paper/PaperServiceMock\";\r\n\r\nexport default class UserServiceMock extends UserService {\r\n  async login(username: string, password: string): Promise<Response> {\r\n    if (username === password) {\r\n      return { userId: username, token: \"0001\" };\r\n    } else {\r\n      return { error: \"incorrect\" };\r\n    }\r\n  }\r\n\r\n  async register(username: string, password: string, role: Role): Promise<Response> {\r\n    if (username !== \"1\") {\r\n      return { userId: username, token: \"0001\" };\r\n    } else {\r\n      return { error: \"incorrect\" };\r\n    }\r\n  }\r\n\r\n  async getUserInfo(userId: string): Promise<UserInfo> {\r\n    return {\r\n      userId,\r\n      username: `${userId}'s name`,\r\n      role: \"student\",\r\n      paperIds: papers.map(x => x.paperId),\r\n      paperIdsInCollabration: papers.map(x => x.paperId),\r\n      score: 4.6,\r\n      collabrationInvitationIds: [\r\n        \"123\", \"1234\"\r\n      ],\r\n      collabrationRequestIds: [\"123\", \"1234\"],\r\n    };\r\n  }\r\n}\r\n","import { HttpService, HttpMethod } from \"../HttpService\";\r\nimport { CollabrationInvitation, CollabrationRequest } from \"../../models/collabration\";\r\nimport { CollabrationService } from \"./CollabrationService\";\r\n\r\nexport class CollabrationServiceMock extends CollabrationService {\r\n  async requestCollabration(paperId: string): Promise<{ collabrationRequestId: string }> {\r\n    return { collabrationRequestId: \"123\" };\r\n  }\r\n\r\n  async acceptCollabrationRequest(collabrationRequestId: string) {\r\n\r\n  }\r\n\r\n  async inviteCollabration(paperId: string, inviteeId: string): Promise<{ collabrationInvitationId: string }> {\r\n    return { collabrationInvitationId: \"123\" };\r\n  }\r\n\r\n  async acceptCollabrationInvitation(collabrationInvitationId: string) {\r\n\r\n  }\r\n\r\n  async getCollabrationInvitationInfo(collabrationInvitationId: string): Promise<CollabrationInvitation> {\r\n    return { collabrationInvitationId, time: \"1231231212\", inviteeId: \"123\", inviterId: \"123\", paperId: \"123\" };\r\n  }\r\n\r\n  async getCollabrationRequestInfo(collabrationRequestId: string): Promise<CollabrationRequest> {\r\n    return { collabrationRequestId, time: \"1231231212\", requesteeId: \"123\", requesterId: \"123\", paperId: \"123\" };\r\n\r\n  };\r\n}\r\n","import { HttpService, HttpServiceType } from \"./HttpService\";\r\nimport { UserService } from \"./user/UserService\";\r\nimport UserServiceMock from \"./user/UserServiceMock\";\r\nimport { PaperServiceMock } from \"./paper/PaperServiceMock\";\r\nimport { PaperService } from \"./paper/PaperService\";\r\nimport { CollabrationService } from \"./collabration/CollabrationService\";\r\nimport { CollabrationServiceMock } from \"./collabration/CollabrationServiceMock\";\r\n\r\nexport const USE_MOCK = true;\r\n\r\nconst services = [\r\n  [UserService, USE_MOCK ? UserServiceMock : UserService],\r\n  [PaperService, USE_MOCK ? PaperServiceMock : PaperService],\r\n  [CollabrationService, USE_MOCK ? CollabrationServiceMock : CollabrationService],\r\n];\r\n\r\n\r\nconst serviceConfig = new Map<HttpServiceType, HttpService>();\r\n\r\nservices.forEach((item) => {\r\n  serviceConfig.set(item[0], new item[1]());\r\n});\r\n\r\nexport function getApiService<T extends HttpServiceType>(serviceType: T) {\r\n  return serviceConfig.get(serviceType)! as InstanceType<T>;\r\n}\r\n\r\n","import { HttpError, HttpMethod, HttpService } from \"../HttpService\";\r\nimport { Role, UserInfo } from \"../../models/user\";\r\nimport { getUserInfoInStorage } from \"../../stores/UserStore\";\r\n\r\nexport interface Response {\r\n  userId?: string;\r\n  token?: string;\r\n  error?: \"incorrect\" | \"frozen\";\r\n}\r\n\r\nexport class UserService extends HttpService {\r\n\r\n  constructor() {\r\n    super();\r\n    // data\r\n    const data = getUserInfoInStorage();\r\n    if (data) {\r\n      this.setToken(data.token);\r\n    }\r\n  }\r\n\r\n  async login(username: string, password: string): Promise<Response> {\r\n    try {\r\n      const data = await this.fetch<Response>({\r\n        method: HttpMethod.GET,\r\n        params: { username, password },\r\n        path: \"/login\",\r\n      });\r\n      if (data.token) {\r\n        this.setToken(data.token);\r\n      }\r\n      return data;\r\n    } catch (e) {\r\n      return (e as HttpError).data;\r\n    }\r\n\r\n  }\r\n\r\n  async register(username: string, password: string, role: Role): Promise<Response> {\r\n    try {\r\n      const data = await this.fetch({\r\n        method: HttpMethod.POST,\r\n        body: { username, password, role },\r\n        path: \"/register\",\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      const e1 = e as HttpError;\r\n      return e1.data;\r\n    }\r\n\r\n  }\r\n\r\n  async getUserInfo(userId: string): Promise<UserInfo> {\r\n    try {\r\n      const data = await this.fetch<UserInfo>({\r\n        method: HttpMethod.GET,\r\n        path: `/user/${userId}`,\r\n      });\r\n      return data;\r\n    } catch (e) {\r\n      const e1 = e as HttpError;\r\n      return e1.data;\r\n    }\r\n\r\n  }\r\n\r\n  setToken(token: string) {\r\n    if (token) {\r\n      this.axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    } else {\r\n      delete this.axios.defaults.headers.common.Authorization;\r\n    }\r\n  }\r\n}\r\n","import {HttpMethod, HttpService} from \"../HttpService\";\r\nimport {CollabrationInvitation, CollabrationRequest} from \"../../models/collabration\";\r\n\r\nexport class CollabrationService extends HttpService {\r\n  async requestCollabration(paperId: string): Promise<{ collabrationRequestId: string }> {\r\n    const data = await this.fetch({\r\n      path: `/collabration/request`,\r\n      body: { paperId },\r\n      method: HttpMethod.POST,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async acceptCollabrationRequest(collabrationRequestId: string) {\r\n    await this.fetch({\r\n      path: `collabration/request/${collabrationRequestId}`,\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async inviteCollabration(paperId: string, inviteeId: string): Promise<{ collabrationInvitationId: string }> {\r\n    const data = await this.fetch({\r\n      path: `/collabration/invitation`,\r\n      body: { paperId, inviteeId },\r\n      method: HttpMethod.POST,\r\n    });\r\n\r\n    return data as any;\r\n  }\r\n\r\n  async acceptCollabrationInvitation(collabrationInvitationId: string) {\r\n    await this.fetch({\r\n      path: `/collabration/invitation/${collabrationInvitationId}`,\r\n      method: HttpMethod.POST,\r\n    });\r\n  }\r\n\r\n  async getCollabrationInvitationInfo(collabrationInvitationId: string): Promise<CollabrationInvitation> {\r\n    const data = await this.fetch<CollabrationInvitation>({\r\n      path: `/collabration/invitation/${collabrationInvitationId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  }\r\n\r\n  async getCollabrationRequestInfo(collabrationRequestId: string): Promise<CollabrationRequest> {\r\n    const data = this.fetch<CollabrationRequest>({\r\n      path: `/collabration/request/${collabrationRequestId}`,\r\n      method: HttpMethod.GET,\r\n    });\r\n\r\n    return data;\r\n  };\r\n}\r\n","import * as React from \"react\";\r\n\r\ninterface Props<T> {\r\n  children: (data: T,\r\n             loading: boolean,\r\n             error: any,\r\n             refetch: () => void,\r\n  ) => React.ReactNode;\r\n  call: () => Promise<T>;\r\n}\r\n\r\ninterface State<T> {\r\n  loading: boolean;\r\n  error: any;\r\n  data?: T;\r\n}\r\n\r\nexport default class Query<T> extends React.PureComponent<Props<T>, State<T>> {\r\n\r\n  state = {\r\n    loading: true,\r\n    error: null,\r\n    data: undefined,\r\n  };\r\n\r\n  fetch = () => {\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n\r\n    this.props.call().then((data) => {\r\n      this.setState({\r\n        loading: false,\r\n        error: null,\r\n        data,\r\n      });\r\n    }).catch((e) => {\r\n      this.setState({\r\n        loading: false,\r\n        error: e,\r\n        data: undefined,\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetch();\r\n  }\r\n\r\n  render() {\r\n    const { data, loading, error } = this.state;\r\n    return this.props.children(data!!, loading, error, this.fetch);\r\n  }\r\n}\r\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","export function isFlexSupported() {\n  if (typeof window !== 'undefined' && window.document && window.document.documentElement) {\n    var documentElement = window.document.documentElement;\n    return 'flex' in documentElement.style || 'webkitFlex' in documentElement.style || 'Flex' in documentElement.style || 'msFlex' in documentElement.style;\n  }\n\n  return false;\n}","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\n/* eslint react/no-did-mount-set-state: 0 */\n\nimport React, { cloneElement, Children, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode } from 'react-dom';\nimport classNames from 'classnames';\nimport debounce from 'lodash/debounce';\nimport { isFlexSupported } from './utils';\n\nvar Steps = function (_Component) {\n  _inherits(Steps, _Component);\n\n  function Steps(props) {\n    _classCallCheck(this, Steps);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.onStepClick = function (next) {\n      var _this$props = _this.props,\n          onChange = _this$props.onChange,\n          current = _this$props.current;\n\n      if (onChange && current !== next) {\n        onChange(next);\n      }\n    };\n\n    _this.calcStepOffsetWidth = function () {\n      if (isFlexSupported()) {\n        return;\n      } // Just for IE9\n\n\n      var domNode = findDOMNode(_this);\n\n      if (domNode.children.length > 0) {\n        if (_this.calcTimeout) {\n          clearTimeout(_this.calcTimeout);\n        }\n\n        _this.calcTimeout = setTimeout(function () {\n          // +1 for fit edge bug of digit width, like 35.4px\n          var lastStepOffsetWidth = (domNode.lastChild.offsetWidth || 0) + 1; // Reduce shake bug\n\n          if (_this.state.lastStepOffsetWidth === lastStepOffsetWidth || Math.abs(_this.state.lastStepOffsetWidth - lastStepOffsetWidth) <= 3) {\n            return;\n          }\n\n          _this.setState({\n            lastStepOffsetWidth: lastStepOffsetWidth\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      flexSupported: true,\n      lastStepOffsetWidth: 0\n    };\n    _this.calcStepOffsetWidth = debounce(_this.calcStepOffsetWidth, 150);\n    return _this;\n  }\n\n  Steps.prototype.componentDidMount = function componentDidMount() {\n    this.calcStepOffsetWidth();\n\n    if (!isFlexSupported()) {\n      this.setState({\n        flexSupported: false\n      });\n    }\n  };\n\n  Steps.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.calcStepOffsetWidth();\n  };\n\n  Steps.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.calcTimeout) {\n      clearTimeout(this.calcTimeout);\n    }\n\n    if (this.calcStepOffsetWidth && this.calcStepOffsetWidth.cancel) {\n      this.calcStepOffsetWidth.cancel();\n    }\n  };\n\n  Steps.prototype.render = function render() {\n    var _classNames,\n        _this2 = this;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        _props$style = _props.style,\n        style = _props$style === undefined ? {} : _props$style,\n        className = _props.className,\n        children = _props.children,\n        direction = _props.direction,\n        labelPlacement = _props.labelPlacement,\n        iconPrefix = _props.iconPrefix,\n        status = _props.status,\n        size = _props.size,\n        current = _props.current,\n        progressDot = _props.progressDot,\n        initial = _props.initial,\n        icons = _props.icons,\n        onChange = _props.onChange,\n        restProps = _objectWithoutProperties(_props, ['prefixCls', 'style', 'className', 'children', 'direction', 'labelPlacement', 'iconPrefix', 'status', 'size', 'current', 'progressDot', 'initial', 'icons', 'onChange']);\n\n    var _state = this.state,\n        lastStepOffsetWidth = _state.lastStepOffsetWidth,\n        flexSupported = _state.flexSupported;\n    var filteredChildren = React.Children.toArray(children).filter(function (c) {\n      return !!c;\n    });\n    var lastIndex = filteredChildren.length - 1;\n    var adjustedlabelPlacement = !!progressDot ? 'vertical' : labelPlacement;\n    var classString = classNames(prefixCls, prefixCls + '-' + direction, className, (_classNames = {}, _classNames[prefixCls + '-' + size] = size, _classNames[prefixCls + '-label-' + adjustedlabelPlacement] = direction === 'horizontal', _classNames[prefixCls + '-dot'] = !!progressDot, _classNames[prefixCls + '-flex-not-supported'] = !flexSupported, _classNames));\n    return React.createElement('div', _extends({\n      className: classString,\n      style: style\n    }, restProps), Children.map(filteredChildren, function (child, index) {\n      if (!child) {\n        return null;\n      }\n\n      var stepNumber = initial + index;\n\n      var childProps = _extends({\n        stepNumber: '' + (stepNumber + 1),\n        stepIndex: stepNumber,\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix,\n        wrapperStyle: style,\n        progressDot: progressDot,\n        icons: icons,\n        onStepClick: onChange && _this2.onStepClick\n      }, child.props);\n\n      if (!flexSupported && direction !== 'vertical' && index !== lastIndex) {\n        childProps.itemWidth = 100 / lastIndex + '%';\n        childProps.adjustMarginRight = -Math.round(lastStepOffsetWidth / lastIndex + 1);\n      } // fix tail color\n\n\n      if (status === 'error' && index === current - 1) {\n        childProps.className = prefixCls + '-next-error';\n      }\n\n      if (!child.props.status) {\n        if (stepNumber === current) {\n          childProps.status = status;\n        } else if (stepNumber < current) {\n          childProps.status = 'finish';\n        } else {\n          childProps.status = 'wait';\n        }\n      }\n\n      return cloneElement(child, childProps);\n    }));\n  };\n\n  return Steps;\n}(Component);\n\nSteps.propTypes = {\n  prefixCls: PropTypes.string,\n  className: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  direction: PropTypes.string,\n  labelPlacement: PropTypes.string,\n  children: PropTypes.any,\n  status: PropTypes.string,\n  size: PropTypes.string,\n  progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  style: PropTypes.object,\n  initial: PropTypes.number,\n  current: PropTypes.number,\n  icons: PropTypes.shape({\n    finish: PropTypes.node,\n    error: PropTypes.node\n  }),\n  onChange: PropTypes.func\n};\nSteps.defaultProps = {\n  prefixCls: 'rc-steps',\n  iconPrefix: 'rc',\n  direction: 'horizontal',\n  labelPlacement: 'horizontal',\n  initial: 0,\n  current: 0,\n  status: 'process',\n  size: '',\n  progressDot: false\n};\nexport default Steps;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nfunction isString(str) {\n  return typeof str === 'string';\n}\n\nvar Step = function (_React$Component) {\n  _inherits(Step, _React$Component);\n\n  function Step() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Step);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _initialiseProps.call(_this), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Step.prototype.renderIconNode = function renderIconNode() {\n    var _classNames;\n\n    var _props = this.props,\n        prefixCls = _props.prefixCls,\n        progressDot = _props.progressDot,\n        stepNumber = _props.stepNumber,\n        status = _props.status,\n        title = _props.title,\n        description = _props.description,\n        icon = _props.icon,\n        iconPrefix = _props.iconPrefix,\n        icons = _props.icons;\n    var iconNode = void 0;\n    var iconClassName = classNames(prefixCls + '-icon', iconPrefix + 'icon', (_classNames = {}, _classNames[iconPrefix + 'icon-' + icon] = icon && isString(icon), _classNames[iconPrefix + 'icon-check'] = !icon && status === 'finish' && icons && !icons.finish, _classNames[iconPrefix + 'icon-close'] = !icon && status === 'error' && icons && !icons.error, _classNames));\n    var iconDot = React.createElement('span', {\n      className: prefixCls + '-icon-dot'\n    }); // `progressDot` enjoy the highest priority\n\n    if (progressDot) {\n      if (typeof progressDot === 'function') {\n        iconNode = React.createElement('span', {\n          className: prefixCls + '-icon'\n        }, progressDot(iconDot, {\n          index: stepNumber - 1,\n          status: status,\n          title: title,\n          description: description\n        }));\n      } else {\n        iconNode = React.createElement('span', {\n          className: prefixCls + '-icon'\n        }, iconDot);\n      }\n    } else if (icon && !isString(icon)) {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icon);\n    } else if (icons && icons.finish && status === 'finish') {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icons.finish);\n    } else if (icons && icons.error && status === 'error') {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, icons.error);\n    } else if (icon || status === 'finish' || status === 'error') {\n      iconNode = React.createElement('span', {\n        className: iconClassName\n      });\n    } else {\n      iconNode = React.createElement('span', {\n        className: prefixCls + '-icon'\n      }, stepNumber);\n    }\n\n    return iconNode;\n  };\n\n  Step.prototype.render = function render() {\n    var _classNames2;\n\n    var _props2 = this.props,\n        className = _props2.className,\n        prefixCls = _props2.prefixCls,\n        style = _props2.style,\n        itemWidth = _props2.itemWidth,\n        _props2$status = _props2.status,\n        status = _props2$status === undefined ? 'wait' : _props2$status,\n        iconPrefix = _props2.iconPrefix,\n        icon = _props2.icon,\n        wrapperStyle = _props2.wrapperStyle,\n        adjustMarginRight = _props2.adjustMarginRight,\n        stepNumber = _props2.stepNumber,\n        description = _props2.description,\n        title = _props2.title,\n        progressDot = _props2.progressDot,\n        tailContent = _props2.tailContent,\n        icons = _props2.icons,\n        stepIndex = _props2.stepIndex,\n        onStepClick = _props2.onStepClick,\n        onClick = _props2.onClick,\n        restProps = _objectWithoutProperties(_props2, ['className', 'prefixCls', 'style', 'itemWidth', 'status', 'iconPrefix', 'icon', 'wrapperStyle', 'adjustMarginRight', 'stepNumber', 'description', 'title', 'progressDot', 'tailContent', 'icons', 'stepIndex', 'onStepClick', 'onClick']);\n\n    var classString = classNames(prefixCls + '-item', prefixCls + '-item-' + status, className, (_classNames2 = {}, _classNames2[prefixCls + '-item-custom'] = icon, _classNames2));\n\n    var stepItemStyle = _extends({}, style);\n\n    if (itemWidth) {\n      stepItemStyle.width = itemWidth;\n    }\n\n    if (adjustMarginRight) {\n      stepItemStyle.marginRight = adjustMarginRight;\n    }\n\n    var accessibilityProps = {};\n\n    if (onStepClick) {\n      accessibilityProps.role = 'button';\n      accessibilityProps.tabIndex = 0;\n      accessibilityProps.onClick = this.onClick;\n    }\n\n    return React.createElement('div', _extends({\n      onClick: onClick\n    }, accessibilityProps, restProps, {\n      className: classString,\n      style: stepItemStyle\n    }), React.createElement('div', {\n      className: prefixCls + '-item-tail'\n    }, tailContent), React.createElement('div', {\n      className: prefixCls + '-item-icon'\n    }, this.renderIconNode()), React.createElement('div', {\n      className: prefixCls + '-item-content'\n    }, React.createElement('div', {\n      className: prefixCls + '-item-title'\n    }, title), description && React.createElement('div', {\n      className: prefixCls + '-item-description'\n    }, description)));\n  };\n\n  return Step;\n}(React.Component);\n\nStep.propTypes = {\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  style: PropTypes.object,\n  wrapperStyle: PropTypes.object,\n  itemWidth: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  status: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  icon: PropTypes.node,\n  adjustMarginRight: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  stepNumber: PropTypes.string,\n  stepIndex: PropTypes.number,\n  description: PropTypes.any,\n  title: PropTypes.any,\n  progressDot: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n  tailContent: PropTypes.any,\n  icons: PropTypes.shape({\n    finish: PropTypes.node,\n    error: PropTypes.node\n  }),\n  onClick: PropTypes.func,\n  onStepClick: PropTypes.func\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onClick = function () {\n    var _props3 = _this2.props,\n        onClick = _props3.onClick,\n        onStepClick = _props3.onStepClick,\n        stepIndex = _props3.stepIndex;\n\n    if (onClick) {\n      onClick.apply(undefined, arguments);\n    }\n\n    onStepClick(stepIndex);\n  };\n};\n\nexport default Step;","import Steps from './Steps';\nimport Step from './Step';\nSteps.Step = Step;\nexport { Step };\nexport default Steps;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcSteps from 'rc-steps';\nimport Icon from '../icon';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Steps =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Steps, _React$Component);\n\n  function Steps() {\n    var _this;\n\n    _classCallCheck(this, Steps);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Steps).apply(this, arguments));\n\n    _this.renderSteps = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n      var prefixCls = getPrefixCls('steps', _this.props.prefixCls);\n      var iconPrefix = getPrefixCls('', _this.props.iconPrefix);\n      var icons = {\n        finish: React.createElement(Icon, {\n          type: \"check\",\n          className: \"\".concat(prefixCls, \"-finish-icon\")\n        }),\n        error: React.createElement(Icon, {\n          type: \"close\",\n          className: \"\".concat(prefixCls, \"-error-icon\")\n        })\n      };\n      return React.createElement(RcSteps, _extends({\n        icons: icons\n      }, _this.props, {\n        prefixCls: prefixCls,\n        iconPrefix: iconPrefix\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(Steps, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderSteps);\n    }\n  }]);\n\n  return Steps;\n}(React.Component);\n\nexport { Steps as default };\nSteps.Step = RcSteps.Step;\nSteps.defaultProps = {\n  current: 0\n};\nSteps.propTypes = {\n  prefixCls: PropTypes.string,\n  iconPrefix: PropTypes.string,\n  current: PropTypes.number\n};","import React, { useState } from \"react\";\r\nimport { Modal, Input, message, Tabs } from \"antd\";\r\nimport { Reference } from \"../../models/paper\";\r\nimport { getApiService } from \"../../apis\";\r\nimport { PaperService } from \"../../apis/paper/PaperService\";\r\n\r\nconst TabPane = Tabs.TabPane;\r\n\r\ninterface Props {\r\n  show: boolean;\r\n  onAdd(ref: Reference): void;\r\n  close(): void;\r\n}\r\n\r\nconst ReferenceAddingModal: React.FC<Props> = (props) => {\r\n  const paperService = getApiService(PaperService);\r\n\r\n  const [paperId, setPaperId] = useState(\"\");\r\n  const [doi, setDoi] = useState(\"\");\r\n  const [type, setType] = useState(\"published\");\r\n\r\n  return (\r\n    <Modal\r\n      title=\"添加文献\"\r\n      visible={props.show}\r\n      onOk={async () => {\r\n        if (type === \"published\") {\r\n          props.onAdd({ type: \"published\", doi });\r\n        } else if (type === \"chainpaper\") {\r\n          try {\r\n            const data = await paperService.getPaper(paperId);\r\n            props.onAdd({\r\n              type: \"chainpaper\",\r\n              paperId: paperId,\r\n              title: data.paper.paper.title,\r\n              content: data.paper.authors.join(\",\") + \":\" + data.paper.paper.title + \",\" + data.paper.uploadTime\r\n            });\r\n          } catch (e) {\r\n            message.error(\"无该论文\");\r\n          }\r\n        }\r\n        props.close();\r\n      }}\r\n      onCancel={() => {\r\n        props.close();\r\n      }}>\r\n      <Tabs defaultActiveKey=\"published\" onChange={(activeKey) => {\r\n        setType(activeKey);\r\n      }}>\r\n        <TabPane tab=\"已发表论文\" key=\"published\">\r\n          <Input placeholder=\"输入doi\" value={doi} onChange={(e) => {\r\n            setDoi(e.target.value)\r\n          }} />\r\n        </TabPane>\r\n        <TabPane tab=\"本平台论文\" key=\"chainpaper\">\r\n          <Input placeholder=\"输入论文号\" value={paperId} onChange={(e) => {\r\n            setPaperId(e.target.value)\r\n          }} />\r\n        </TabPane>\r\n      </Tabs>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ReferenceAddingModal;\r\n","import React, { useState } from \"react\";\r\nimport { RouteComponentProps, navigate } from \"@reach/router\";\r\nimport { Button, Input, Row, Col, Layout, Icon, Modal, Tabs, message, Steps } from \"antd\";\r\n\r\n\r\nimport Latex from 'react-latex';\r\nimport { getApiService } from \"../../apis\";\r\nimport { PaperService } from \"../../apis/paper/PaperService\";\r\nimport { Reference, PaperDraft } from \"../../models/paper\";\r\nimport FunctionLayout from \"../../layouts/FunctionLayout\";\r\nimport ReferenceAddingModal from \"./ReferenceAddingModal\";\r\n\r\nconst Step = Steps.Step;\r\nconst { Sider, Content } = Layout;\r\nconst ButtonGroup = Button.Group;\r\nconst { TextArea } = Input;\r\nconst TabPane = Tabs.TabPane;\r\n\r\ninterface Props {\r\n  paperDraft: PaperDraft | null;\r\n  onSubmit(paperDraft: PaperDraft): void;\r\n}\r\n\r\nconst Wizard: React.FunctionComponent<Props> = ({ paperDraft, onSubmit }) => {\r\n  const paperService = getApiService(PaperService);\r\n\r\n  const [title, setTitle] = useState(paperDraft ? paperDraft.title : \"\");\r\n  const [keywords, setKeywords] = useState(paperDraft ? paperDraft.keywords : \"\");\r\n  const [abstractContent, setAbstractContent] = useState(paperDraft ? paperDraft.abstractContent : \"\");\r\n  const [introduction, setIntroduction] = useState(paperDraft ? paperDraft.introduction : \"\");\r\n  const [content, setContent] = useState(paperDraft ? paperDraft.content : \"\");\r\n  const [conclusion, setConclusion] = useState(paperDraft ? paperDraft.conclusion : \"\");\r\n  const [acknowledgement, setAcknowledgement] = useState(paperDraft ? paperDraft.acknowledgement : \"\");\r\n  const [refs, setRefs] = useState(paperDraft ? paperDraft.refs : []);\r\n\r\n  const [isModelShow, setIsModelShow] = useState(false);\r\n  const [step, setStep] = useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <ReferenceAddingModal\r\n        show={isModelShow}\r\n        close={() => setIsModelShow(false)}\r\n        onAdd={(newRef) => setRefs([...refs, newRef])}\r\n      />\r\n      <FunctionLayout>\r\n        <Steps current={step} style={{ padding: '30px' }}>\r\n          <Step title=\"填写\" />\r\n          <Step title=\"预览\" />\r\n          <Step title=\"提交\" />\r\n        </Steps>\r\n        {step == 0 ? (\r\n          <div>\r\n            <div style={{ textAlign: 'center', margin: '20px', marginTop: '20px' }}>\r\n              <TextArea style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center', width: '60%' }}\r\n                placeholder=\"标题\"\r\n                value={title}\r\n                onChange={(e) => {\r\n                  setTitle(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n                <Row>\r\n                  <Col span={3}>\r\n                    <p style={{\r\n                      fontFamily: 'SimHei',\r\n                      fontSize: '18px',\r\n                      fontWeight: 'bold',\r\n                      display: 'inline-block'\r\n                    }}>摘 要</p>\r\n                  </Col>\r\n                  <Col span={21}>\r\n                    <TextArea\r\n                      style={{ fontFamily: 'SimSun', fontSize: '14px', lineHeight: '20px', display: 'inline-block' }}\r\n                      placeholder=\"中文摘要\"\r\n                      value={abstractContent}\r\n                      onChange={(e) => {\r\n                        setAbstractContent(e.target.value);\r\n                      }}\r\n                      autosize />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n                <Row>\r\n                  <Col span={3}>\r\n                    <p style={{\r\n                      fontFamily: 'SimHei',\r\n                      fontSize: '18px',\r\n                      fontWeight: 'bold',\r\n                      display: 'inline'\r\n                    }}>关键词</p>\r\n                  </Col>\r\n                  <Col span={21}>\r\n                    <TextArea\r\n                      style={{\r\n                        fontFamily: 'SimSun',\r\n                        fontSize: '14px',\r\n                        fontWeight: 'bold',\r\n                        lineHeight: '20px',\r\n                        display: 'inline'\r\n                      }}\r\n                      value={keywords}\r\n                      onChange={(e) => {\r\n                        setKeywords(e.target.value);\r\n                      }}\r\n                      placeholder=\"中文关键词\"\r\n                      autosize />\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>绪 论</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '60%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                placeholder=\"绪论\"\r\n                value={introduction}\r\n                onChange={(e) => {\r\n                  setIntroduction(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>正 文</p>\r\n              <TextArea\r\n                style={{ fontFamily: 'SimSun', fontSize: '14px', width: '70%', lineHeight: '20px' }}\r\n                placeholder=\"正文\"\r\n                value={content}\r\n                onChange={(e) => {\r\n                  setContent(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>结束语</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '70%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                placeholder=\"结束语\"\r\n                value={conclusion}\r\n                onChange={(e) => {\r\n                  setConclusion(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>致 谢</p>\r\n              <TextArea\r\n                style={{\r\n                  fontFamily: 'SimSun',\r\n                  fontSize: '14px',\r\n                  textAlign: 'center',\r\n                  width: '70%',\r\n                  lineHeight: '20px'\r\n                }}\r\n                value={acknowledgement}\r\n                placeholder=\"致谢\"\r\n                onChange={(e) => {\r\n                  setAcknowledgement(e.target.value);\r\n                }}\r\n                autosize />\r\n            </div>\r\n\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <div>\r\n                <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold', display: 'inline' }}>参考文献</p>\r\n                <ButtonGroup style={{ display: 'inline', margin: '10px' }}>\r\n                  <Button onClick={() => {\r\n                    let newRefs: Reference[] = refs;\r\n                    newRefs = newRefs.slice(0, newRefs.length - 1);\r\n                    setRefs(newRefs);\r\n                  }}>\r\n                    <Icon type=\"minus\" />\r\n                  </Button>\r\n                  <Button onClick={() => {\r\n                    setIsModelShow(true)\r\n                  }}>\r\n                    <Icon type=\"plus\" />\r\n                  </Button>\r\n                </ButtonGroup>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  borderRadius: '4px',\r\n                  backgroundColor: '#f5f5f5',\r\n                  minHeight: '32px',\r\n                  padding: '4px 11px',\r\n                  fontSize: '14px',\r\n                  lineHeight: '1.5',\r\n                  border: '1px solid #d9d9d9',\r\n                  margin: '10px',\r\n                  marginLeft: '15%',\r\n                  marginRight: '15%',\r\n                }}>\r\n                {refs.map(((ref, index) => (<p>【{index + 1}】{\r\n                  ref.type === \"published\" ? ref.doi : ref.content\r\n                }</p>)))}\r\n              </div>\r\n            </div>\r\n            <div style={{ textAlign: 'center', margin: '20px' }}>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(1)\r\n              }}>\r\n                下一步\r\n                <Icon type=\"right\" />\r\n              </Button>\r\n            </div>\r\n          </div>) : null}\r\n\r\n        {step == 1 ? (<div>\r\n          <div\r\n            style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center' }}>{title}</div>\r\n          <div style={{ margin: '20px' }}>\r\n            <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n              <Row>\r\n                <Col span={3}>\r\n                  <p style={{\r\n                    fontFamily: 'SimHei',\r\n                    fontSize: '18px',\r\n                    fontWeight: 'bold',\r\n                    display: 'inline-block'\r\n                  }}>摘 要</p>\r\n                </Col>\r\n                <Col span={21}>\r\n                  <div\r\n                    style={{\r\n                      fontFamily: 'SimSun',\r\n                      fontSize: '14px',\r\n                      lineHeight: '20px',\r\n                      display: 'inline-block'\r\n                    }}>{abstractContent}</div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n          <div style={{ margin: '20px' }}>\r\n            <div style={{ marginLeft: '15%', marginRight: '15%' }}>\r\n              <Row>\r\n                <Col span={3}>\r\n                  <p style={{\r\n                    fontFamily: 'SimHei',\r\n                    fontSize: '18px',\r\n                    fontWeight: 'bold',\r\n                    display: 'inline'\r\n                  }}>关键词</p>\r\n                </Col>\r\n                <Col span={21}>\r\n                  <div\r\n                    style={{\r\n                      fontFamily: 'SimSun',\r\n                      fontSize: '14px',\r\n                      fontWeight: 'bold',\r\n                      lineHeight: '20px',\r\n                      display: 'inline'\r\n                    }}\r\n                  >{keywords}</div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>绪 论</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{introduction}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>正 文</p>\r\n            <Latex\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                lineHeight: '20px'\r\n              }}>{content}</Latex>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>结束语</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{conclusion}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px', marginLeft: '15%', marginRight: '15%' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>致 谢</p>\r\n            <div\r\n              style={{\r\n                fontFamily: 'SimSun',\r\n                fontSize: '14px',\r\n                textAlign: 'center',\r\n                lineHeight: '20px'\r\n              }}>{acknowledgement}</div>\r\n          </div>\r\n\r\n          <div style={{ textAlign: 'center', margin: '20px' }}>\r\n            <p style={{ fontFamily: 'SimHei', fontSize: '18px', fontWeight: 'bold' }}>参考文献</p>\r\n            {refs.map(((ref, index) => (<p style={{\r\n              fontFamily: 'SimSun',\r\n              fontSize: '14px',\r\n              lineHeight: '20px'\r\n            }}>【{index + 1}】{\r\n                ref.type === \"published\" ? ref.doi : ref.content\r\n              }</p>)))}\r\n          </div>\r\n          <div style={{ textAlign: 'center', margin: '20px' }}>\r\n            <ButtonGroup>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(0)\r\n              }}>\r\n                <Icon type=\"left\" />\r\n                上一步\r\n              </Button>\r\n              <Button type=\"primary\" size={\"large\"} onClick={() => {\r\n                setStep(2)\r\n              }}>\r\n                下一步\r\n                <Icon type=\"right\" />\r\n              </Button>\r\n            </ButtonGroup>\r\n          </div>\r\n        </div>) : null}\r\n\r\n        {step == 2 ? (\r\n          <div style={{ textAlign: 'center', paddingBottom: '50px' }}>\r\n            <div\r\n              style={{ fontFamily: 'SimHei', fontSize: '24px', textAlign: 'center', margin: '20px' }}>确定提交？\r\n            </div>\r\n\r\n            <Button type=\"default\" size={\"large\"} style={{ margin: '10px' }} onClick={() => {\r\n              setStep(1)\r\n            }}>\r\n              取消\r\n            </Button>\r\n\r\n            <Button type=\"primary\" size={\"large\"} style={{ margin: '10px' }} onClick={() => onSubmit({\r\n              title,\r\n              abstractContent,\r\n              keywords,\r\n              introduction,\r\n              content,\r\n              conclusion,\r\n              acknowledgement,\r\n              refs\r\n            })}>\r\n              确定\r\n            </Button>\r\n          </div>\r\n        ) : null}\r\n      </FunctionLayout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wizard;\r\n","import React, { useState } from \"react\";\r\nimport { RouteComponentProps, navigate } from \"@reach/router\";\r\nimport Wizard from \"./PaperEditing/Wizard\";\r\nimport { getApiService } from \"../apis\";\r\nimport { PaperService } from \"../apis/paper/PaperService\";\r\nimport PageLoading from \"../components/PageLoading\";\r\nimport Query from \"../apis/Query\";\r\nimport { message } from \"antd\";\r\n\r\n// paperId\r\nconst PaperEditPage: React.FunctionComponent<RouteComponentProps> = ({ paperId }: any) => {\r\n  const paperService = getApiService(PaperService);\r\n  return (\r\n    <Query call={() => paperService.getPaper(paperId)}>\r\n      {(data, loading) => {\r\n        if (loading) {\r\n          return <PageLoading />;\r\n        }\r\n\r\n        return <Wizard paperDraft={data.paper.paper} onSubmit={(draft) => {\r\n          paperService.modifyPaper(paperId, draft).then(() => {\r\n            message.success(\"编辑成功!\");\r\n            navigate(`/papers/${paperId}`);\r\n          });\r\n        }} />\r\n      }}\r\n    </Query>\r\n  );\r\n};\r\nexport default PaperEditPage;\r\n"],"sourceRoot":""}